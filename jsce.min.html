<!DOCTYPE html><html lang="en"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible"content="IE=edge"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Document</title><div id="jsce-container"><style>body,html{min-height:100%;min-width:100%}body{background-color:rgba(255,255,255,0);margin:0;padding:0;color:#fff}button{background-color:var(--background);border:var(--outline) 1px solid;box-sizing:border-box;transition:background-color .3s ease-in-out;color:#fff;cursor:pointer;border-radius:.125em}button:hover{background-color:var(--background-hover)}input:is([type=number],[type=text],:not([type])){background:#252525;border:#535353 1px solid;color:#fff;border-radius:.5em;padding-left:5px}input[disabled]:is([type=number],[type=text],:not([type])){background:#1a1a1a;color:#5e5e5e}input:focus{outline:0!important;border-color:#afafaf}input.error:focus{outline:0!important;border-color:red;background:#380000}input.error{border-color:red;background:#380000}pre{background:#1a1a1a;padding:5px 3px}.field{display:inline-block;background:#222;border-radius:.25em;padding-left:5px;padding-right:6px;margin-left:2px;margin-right:3px}.vertical-divider{display:inline-block;height:1em;width:1px;transform:translateY(2px);background:gray}.horizontal-divider{display:block;height:1px;margin-top:5px;margin-bottom:5px;background:gray;background:linear-gradient(90deg,rgba(255,255,255,0) 0,gray 10%,gray 85%,rgba(80,80,80,0) 100%)}</style><style>#jsce-container{width:100vw;height:100vh;top:0;left:0;padding:0;margin:0;position:absolute;z-index:999999;background:#000;color:#fff;--outline:rgb(83, 83, 83);--background:rgb(37, 37, 37);--background-hover:rgb(56, 56, 56)}body{height:100vh}.main{width:100%;padding:0;margin:0;display:flex;flex-flow:column;height:100%}.segmented-control#page{flex:0 0 auto}.page{flex:1 1 auto}#rng-input{width:80%}.box{width:calc(100% - 20px);margin:10px;border:1px solid gray;border-radius:5px;padding:5px;box-sizing:border-box}.box-header{width:calc(100% - 10px);border-bottom:1px solid gray;font-size:1.4em;margin-bottom:5px}.slider{-webkit-appearance:none;width:80%;height:15px;border-radius:5px;background:#d3d3d3;outline:0;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:#04aa6d;cursor:pointer}.slider::-moz-range-thumb{width:25px;height:25px;border-radius:50%;background:#04aa6d;cursor:pointer}.slider[disabled]::-moz-range-thumb{background:gray;cursor:default}.slider[disabled]::-webkit-slider-thumb{background:gray;cursor:default}.slider[disabled]{background:#505050}.quote{border-left:5px solid gray;padding-left:3px;padding-top:1px;padding-bottom:1px;display:inline-block;margin:5px 0}#random-callstack-disp{overflow-y:auto;max-height:30vh}#random-callstack-disp>div:not(:last-child){margin-bottom:0;box-sizing:border-box}#random-callstack-disp>div:hover>pre{background:var(--background-hover);cursor:pointer}.dark-scrollbar::-webkit-scrollbar{width:.8em}.dark-scrollbar::-webkit-scrollbar-track{background:#141414}.dark-scrollbar::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,.151);margin:3px 0}.override-value{padding:1px 5px;background:var(--background);border-radius:12.5%;font-weight:700}.stack-override-container:not(:last-child){border-bottom:1px dashed #999;padding-bottom:3px;margin-bottom:5px}#bookmark-accordian{margin-bottom:5px}.bookmark-item::before{content:"(" attr(data-location) ") ";color:#ff0;display:inline-block;transform:translateY(.15em);margin-right:.5em}#type-select-cont #type-select{padding:6px 5px}#type-select{cursor:default}#type-select>input{cursor:pointer}#search-res{overflow-y:auto;user-select:none}.search-box:not(:last-child){border-bottom:1px solid var(--outline)}.search-box{padding-left:.4em;padding-right:.4em;display:block;border-top:5px solid transparent;padding-bottom:10px;cursor:pointer;font-family:monospace}.search-box input{font-family:inherit}.search-box:first-child{border-top:2px solid transparent;padding-bottom:8px}.search-box div:nth-child(1){text-align:left;display:inline-block;left:3px;transform:translateY(.125rem);pointer-events:none}.search-box div:nth-child(2){float:right;margin:0;padding:0}.search-box div:nth-child(2)::before{content:attr(data-type);display:inline-block;margin-right:1em}.search-box .search-val-string span::after,.search-box .search-val-string span::before{content:"'"}.type-option{margin-left:0;padding-left:0}#search-res>div.search-box:hover div[data-type]:nth-child(2)::before{background:#2d2d2d}.search-box div[data-type]:nth-child(2)::before{background:#202020;content:attr(data-type);display:inline-block;padding:2px .3em;text-transform:capitalize;border-radius:5px}#search-params{margin-bottom:0}.search-box div[data-type=string]:nth-child(2)::before{color:#ff0}.search-box div[data-type=number]:nth-child(2)::before{color:#66cdaa}.search-box div[data-type=boolean]:nth-child(2)::before{color:#6c6cff}.search-box div[data-type=function]:nth-child(2)::before{color:#9370db}.search-box div:has(input[type=checkbox]) span{display:inline-block;transform:translateY(-.1875rem)}.search-box div[data-type=function] span{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px;max-height:1.2em;transform:translateY(.1875rem)}.search-box div:where([data-type=boolean],[data-type=function])::before{transform:translateY(-.125rem)}.search-box.selected{background:#001633}.search-box:hover{background:#181818}.search-box.selected:hover{background:#00285c}.list-item{transition:margin-bottom .2s ease-in-out}.list-item:first-child{margin-top:5px}.list-item:not(:last-child){margin-bottom:5px;padding-bottom:5px;border-bottom:1px solid var(--outline)}#autoclick-container input{font-family:monospace}#packagefile{display:none}.cust-finput-disp{background:var(--background);border:var(--outline) 1px outset;border-radius:.125em;display:inline-block;cursor:pointer;transform:translateY(-25%)}#selectedpkg{border:var(--outline) 1px solid;background:var(--background);width:10em;display:inline-block;overflow:hidden;padding-left:3px}.dynamic-sizing{display:flex;flex-flow:column;height:100%}.dynamic-sizing .fixed{flex:0 1 auto}.dynamic-sizing .dynamic{flex:1 1 auto}.dynamic-sizing .dynamic-scrollable{flex:1 0 0}#edit-prompt-container{width:100%;height:100%;position:fixed;z-index:9999999;background-color:rgba(0,0,0,.781)}#edit-prompt-container>div{left:50%;top:50%;transform:translate(-50%,-50%);position:absolute;display:block;width:50%;background-color:#000;margin:1em;box-shadow:#000 0 0 0 10px}#edit-prompt-container .search-val-string{padding-top:5px}#edit-prompt-container .search-val-string::after{content:attr(data-type);display:inline-block;margin-left:1em;font-family:monospace;background:#383838;padding:2px .3em;border-radius:5px;color:#fff;text-transform:capitalize}#edit-prompt-container input{font-family:monospace;min-width:12em;width:40%}#edit-prompt-container .search-val-string[data-type=string]::after{color:#ff0}#edit-prompt-container .search-val-string[data-type=number]::after{color:#66cdaa}#edit-prompt-container .search-val-string[data-type=boolean]::after{color:#6c6cff}#edit-prompt-container .search-val-string[data-type=function]::after{color:#9370db}#clear-storage{width:8em}#clear-storage[data-confirm]:not([data-confirm='']){color:red}input.mono{font-family:monospace}#console-page{white-space:pre;font-family:monospace;padding:3px 5px}.context-menu{position:fixed;background-color:#080808;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1000;border-radius:3px;padding:.2em;border:1px solid #999}.context-menu>button{color:#fff;padding:8px 12px;text-decoration:none;display:block;cursor:default;border-radius:3px;width:100%;background-color:inherit;border:none;text-align:left;font-family:monospace;background:rgba(255,255,255,.3)}.context-menu>button:not(:last-child){margin-bottom:3px}.context-menu>button:hover{background-color:#525252}.context-menu-background{position:fixed;z-index:999;left:0;top:0;width:100%;height:100%}</style><style>.segmented-control{position:relative;display:inline-block;border:2px solid currentColor;font-style:normal;font-weight:400;text-decoration:none;overflow:hidden;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-user-select:-moz-none;-ms-user-select:none;-webkit-user-select:none;user-select:none;-moz-transition-duration:.8s;-o-transition-duration:.8s;-webkit-transition-duration:.8s;transition-duration:.8s;-moz-transition-timing-function:cubic-bezier(.445,.05,.55,.95);-o-transition-timing-function:cubic-bezier(.445,.05,.55,.95);-webkit-transition-timing-function:cubic-bezier(.445,.05,.55,.95);transition-timing-function:cubic-bezier(.445,.05,.55,.95);-webkit-tap-highlight-color:transparent}.segmented-control:nth-child(1){width:100%;color:#8f8f8f}.segmented-control:nth-child(2){width:80%;color:#8f8f8f}.segmented-control>input{position:absolute;left:-10000px;opacity:0}.segmented-control>input[type=checkbox]~label{-moz-transition-duration:0;-o-transition-duration:0;-webkit-transition-duration:0;transition-duration:0}.segmented-control>input[type=checkbox]~label:before{opacity:0}.segmented-control>input:disabled:nth-child(1)~label:nth-of-type(1){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(1):checked~label:nth-of-type(1):after,.segmented-control>input:nth-child(1):checked~label:nth-of-type(1):before{opacity:1}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1)~label:before{left:0}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2)~label:before{left:0}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3)~label:before{left:0}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:0}.segmented-control>input:disabled:nth-child(2)~label:nth-of-type(2){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(2):checked~label:nth-of-type(2):after,.segmented-control>input:nth-child(2):checked~label:nth-of-type(2):before{opacity:1}.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2):after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2):before,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2)~label:after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2)~label:before{left:50%}.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3):after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3):before,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3)~label:before{left:33.33333%}.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:25%}.segmented-control>input:disabled:nth-child(3)~label:nth-of-type(3){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(3):checked~label:nth-of-type(3):after,.segmented-control>input:nth-child(3):checked~label:nth-of-type(3):before{opacity:1}.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3):after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3):before,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3)~label:before{left:66.66667%}.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:50%}.segmented-control>input:disabled:nth-child(4)~label:nth-of-type(4){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(4):checked~label:nth-of-type(4):after,.segmented-control>input:nth-child(4):checked~label:nth-of-type(4):before{opacity:1}.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:75%}.segmented-control>label{display:inline-block;padding:0 .71em;cursor:pointer;float:left;line-height:3em;font-style:inherit;font-weight:inherit;text-decoration:inherit;-moz-transition-property:none;-o-transition-property:none;-webkit-transition-property:none;transition-property:none;-moz-transition-duration:inherit;-o-transition-duration:inherit;-webkit-transition-duration:inherit;transition-duration:inherit;-moz-transition-timing-function:inherit;-o-transition-timing-function:inherit;-webkit-transition-timing-function:inherit;transition-timing-function:inherit}.segmented-control>label:after,.segmented-control>label:before{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}.segmented-control>label:after{color:#fff;content:attr(data-value);text-align:center;padding:inherit;z-index:10;font-style:inherit;text-decoration:inherit;font-weight:inherit;opacity:0;-moz-transition-property:opacity,left;-o-transition-property:opacity,left;-webkit-transition-property:opacity,left;transition-property:opacity,left;-moz-transition-duration:inherit;-o-transition-duration:inherit;-webkit-transition-duration:inherit;transition-duration:inherit;-moz-transition-timing-function:inherit;-o-transition-timing-function:inherit;-webkit-transition-timing-function:inherit;transition-timing-function:inherit}.segmented-control>label,.segmented-control>label:after{text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.segmented-control>label:before{content:'';color:inherit;background:currentColor;-moz-transition-property:left;-o-transition-property:left;-webkit-transition-property:left;transition-property:left;-moz-transition-duration:inherit;-o-transition-duration:inherit;-webkit-transition-duration:inherit;transition-duration:inherit;-moz-transition-timing-function:inherit;-o-transition-timing-function:inherit;-webkit-transition-timing-function:inherit;transition-timing-function:inherit}.segmented-control>label:first-of-type:nth-last-of-type(1),.segmented-control>label:first-of-type:nth-last-of-type(1):after,.segmented-control>label:first-of-type:nth-last-of-type(1):before,.segmented-control>label:first-of-type:nth-last-of-type(1)~label,.segmented-control>label:first-of-type:nth-last-of-type(1)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(1)~label:before{width:100%}.segmented-control>label:first-of-type:nth-last-of-type(2),.segmented-control>label:first-of-type:nth-last-of-type(2):after,.segmented-control>label:first-of-type:nth-last-of-type(2):before,.segmented-control>label:first-of-type:nth-last-of-type(2)~label,.segmented-control>label:first-of-type:nth-last-of-type(2)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(2)~label:before{width:50%}.segmented-control>label:first-of-type:nth-last-of-type(3),.segmented-control>label:first-of-type:nth-last-of-type(3):after,.segmented-control>label:first-of-type:nth-last-of-type(3):before,.segmented-control>label:first-of-type:nth-last-of-type(3)~label,.segmented-control>label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(3)~label:before{width:33.33333%}.segmented-control>label:first-of-type:nth-last-of-type(4),.segmented-control>label:first-of-type:nth-last-of-type(4):after,.segmented-control>label:first-of-type:nth-last-of-type(4):before,.segmented-control>label:first-of-type:nth-last-of-type(4)~label,.segmented-control>label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(4)~label:before{width:25%}.segmented-control .italic,.segmented-control.italic{font-style:italic}.segmented-control .bold,.segmented-control.bold{font-weight:700}.segmented-control .underline,.segmented-control.underline{text-decoration:underline}.segmented-control .line-through,.segmented-control.line-through{text-decoration:line-through}.segmented-control>label:hover{background-color:#1a1a1a}</style><style>#jsce-container .switch{position:relative;display:inline-block;width:2em;height:1em}#jsce-container .switch input{opacity:0;width:0;height:0}#jsce-container .switch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#7c7c7c;-webkit-transition:.4s;transition:.4s}#jsce-container .switch-slider:before{position:absolute;content:"";height:.9em;width:.9em;left:.1em;bottom:.05em;background-color:#4d4d4d;-webkit-transition:.4s;transition:.4s}#jsce-container input:checked+.switch-slider{background-color:#2196f3}#jsce-container input:focus+.switch-slider{box-shadow:0 0 1px #2196f3}#jsce-container input:checked+.switch-slider:before{-webkit-transform:translateX(.9em);-ms-transform:translateX(.9em);transform:translateX(.9em)}#jsce-container .switch-slider.round{border-radius:1em}#jsce-container .switch-slider.round:before{border-radius:50%}</style><style>.dropbtn{background-color:#3f3f3f;color:#fff;border:none;cursor:pointer;height:1.5em;border:#535353 1px solid;padding-left:.5em}.dropbtn::after{content:"\25BE";padding-left:.3em}.dropbtn:focus,.dropbtn:hover{background-color:#4c4eb1}.dropdown{position:relative;display:inline-block;padding-left:3px}.dropdown-content{display:none;position:absolute;background-color:#050505;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1;border-radius:3px;padding:.2em;border:1px solid #999}.dropdown-content>button{color:#fff;padding:8px 12px;text-decoration:none;display:block;cursor:default;border-radius:2px;width:100%;background-color:rgba(200,200,200,.15);border:none;text-align:left}.dropdown-content>div{height:1px;margin-left:2%;margin-bottom:3px;width:98%;display:block;content:"";background:var(--outline)}.dropdown-content>button:not(:last-child){margin-bottom:3px}.dropdown-content>button:hover{background-color:#525252}.dropdown .show~.dropdown-content{display:block}</style><style>.foldable>button{background:0 0;color:#b9b9b9;margin-top:.5em;cursor:pointer;border-bottom:var(--outline) 1px solid;width:100%;justify-content:left;text-align:left}.foldable>button.show{background:var(--outline);transition-duration:.2s;color:#fff}.foldable>button::before{content:"\25BE"}.foldable>button.show::before{content:"\25B4"}.foldable>button~div{display:none}.foldable>button.show~div{display:block;border-left:var(--outline) 1px solid;border-right:var(--outline) 1px solid;border-bottom:var(--outline) 1px solid;padding:3px 5px}</style><script>function parseDuration(r){if("number"==typeof r)return r;var t,n={h:36e5,m:6e4,s:1e3,ms:1};let u=[r[0]],l="number";for(let e=1;e<r.length;e++){const a=r[e];" "!==a&&((t=a.match(/(\d|-|\.)/)?"number":"string")===l?u[u.length-1]+=a:(l=t,u.push(a)))}let m=0;for(let e=0;e<u.length;e+=2){var o=n[u[e+1]];if(void 0===o)return NaN;m+=Number(u[e])*o}return m}</script><script>function getCallstack(t=0){try{throw new Error("")}catch(e){return e.stack.split("\n").slice(2+t).join("\n")}}class IndexedObj{constructor(e={},t=""){this.obj=e,this.search=[],this._update=()=>this.obj,this.path=t,this.patches={}}async set(e,t){var a=this._update("read"),a=(a instanceof Promise&&await a,this._set(e,t)),e=this._update("write");return e instanceof Promise&&await e,a}async get(e){var t=this._update("write");return t instanceof Promise&&await t,this._get(e)}export(){return{search:this.search}}_get(t){t=this._splitPath(t,".");let a=this.obj;for(let e=0;e<t.length;e++)if(void 0===(a=a[t[e]]))return;return a}_set(t,e){t=this._splitPath(t,".");let a=this.obj;for(let e=0;e<t.length-1;e++){if("object"!=typeof a[t[e]])return!1;a=a[t[e]]}return a[t[t.length-1]]=e,!0}_splitPath(t){let a=[""],r=0;for(let e=0;e<t.length;e++)"\\"!=t[e]?"."!=t[e]?a[r]+=t[e]:(r++,a[r]=""):(e++,a[r]+=t[e]);return a}patchDescriptor(a,t,r){var e=this._getRef(a);let s=e.parent[e.name],i={get(){return s},set(e){s=e},enumerable:!0,configurable:!0},n=("string"==typeof t&&(t=[t]),this.patches.hasOwnProperty(a)?t.push(...Array.from(this.patches[a])):this.patches[a]=new Set,t.includes("read")&&(i.get=function(){try{throw new Error("")}catch(e){r({stack:e.stack.split("\n").slice(2).join("\n"),value:s,operation:"read",path:a})}return s}),t.includes("write")),o=t.includes("freeze");(n||o)&&(i.set=function(t){if(n)try{throw new Error("")}catch(e){r({stack:e.stack.split("\n").slice(2).join("\n"),old:s,new:t,operation:"write",path:a})}o||(s=t)});for(let e=0;e<t.length;e++)this.patches[a].add(t[e]);Object.defineProperty(e.parent,e.name,i)}unPatchDescriptor(e){var t=this._getRef(e);Object.defineProperty(t.parent,t.name,{value:t.parent[t.name],enumerable:!0,writable:!0}),this.patches.hasOwnProperty(e)&&delete this.patches[e]}newSearch(e){this._update("read"),e.unsafe?this.search=this._unsafeSearchData(this.obj,this._parseSearch(e)):this.search=this._searchData(this.obj,this._parseSearch(e))}refine(e){let{value:t,type:a,operation:r}=this._parseSearch(e);e=this._update("read");if(e instanceof Promise&&!this.search)throw new Error("no search to refine");let s=[];for(let e=0;e<this.search.length;e++){var i=this._get(this.search[e][0]);void 0!==i&&a[typeof i]&&r(i,t,this.search[e][1])&&(this.search[e][1]=i,s.push(this.search[e]))}this.search=s}onUpdate(a,r){this._update=async e=>{switch(e){case"read":this.obj=await a();break;case"write":var t=r(this.obj);t instanceof Promise&&await t;break;default:throw new Error("invalid operation")}}}async transform(e){var t=this._update("read"),t=(t instanceof Promise&&await t,e(this.obj),this._update("write"));t instanceof Promise&&await t}async read(){var e=this._update("read");e instanceof Promise&&await e}_parseSearch(e){let t=e.value;isNaN(Number(t))||(t=Number(t));let a;switch(e.operation){case"*":a=()=>!0;break;case".":a=(e,t,a,r)=>r.includes(t);break;case"===":a=(e,t)=>e===t;break;case"==":a=(e,t)=>e==t;break;case"/\\":a=(e,t,a)=>e!=a;break;case"/\\>":a=(e,t,a)=>a<e;break;case"/\\<":a=(e,t,a)=>e<a;break;case"+-":a=(e,t)=>Math.abs(e-t[0])<t[1];break;case"~~":function r(e,t){return t=Math.pow(10,t),Math.round((e+Number.EPSILON)*t)/t}a=(e,t)=>r(e,t[1])==r(t[0],t[1]);break;case"~":a=(e,t)=>t[0]<=e&&e<=t[1];break;case">=":a=(e,t)=>t<=e;break;case">":a=(e,t)=>t<e;break;case"<=":a=(e,t)=>e<=t;break;case"<":a=(e,t)=>e<t;break;case"?":t=new String(t),a=(e,t)=>String(e).includes(t);break;case"/":t=new RegExp(t),a=(e,t)=>String(e).match(t)}return{value:t,operation:a,type:e.type}}_searchData(t,a,r="",s=0){let{value:i,type:n,operation:l}=a,o=Object.keys(t),c=[];for(let e=0;e<o.length;e++){var h,p=t[o[e]];null!=p&&(h=r+(""!==r?".":"")+o[e].replaceAll(".","\\."),"object"==typeof p?c.push(...this._searchData(p,a,h,s+1)):n[typeof p]&&l(p,i,void 0,h)&&c.push([h,p]))}return c}_unsafeSearchData(e,t,a="",r){let{value:p,type:l,operation:u,deepSearch:s}=t,f=new Set,b=this._isNative;return(!0===s?function r(s,i,n){let o=Object.getOwnPropertyNames(s),c=[];for(let a=0;a<o.length;a++){let e=Object.getOwnPropertyDescriptor(s,o[a]),t=e.value;if(null!==t&&void 0!==t&&!b(t)&&t!==window&&t!==window.parent){const h=i+(""!==i?".":"")+o[a].replaceAll(".","\\.");"object"!=typeof t||t instanceof Function||f.has(t)?l[typeof t]&&u(t,p,void 0,h)&&c.push([h,t]):(f.add(t),c.push(...r(t,h,n+1)))}}return c}:function a(r,s,i){let n=Object.keys(r),o=[];for(let t=0;t<n.length;t++){let e=r[n[t]];if(null!==e&&void 0!==e&&!b(e)&&e!==window&&e!==window.parent){const c=s+(""!==s?".":"")+n[t].replaceAll(".","\\.");"object"!=typeof e||e instanceof Function||f.has(e)?l[typeof e]&&u(e,p,void 0,c)&&o.push([c,e]):(f.add(e),o.push(...a(e,c,i+1)))}}return o})(e,a,r)}_getRef(t){t=this._splitPath(t,".");let a=this.obj;for(let e=0;e<t.length-1;e++){if("object"!=typeof a[t[e]])return new Error("variable at path '"+t.slice(0,e).join(".")+"' is not object'");a=a[t[e]]}return{parent:a,name:t[t.length-1]}}_isNative=function(){var a=Object.prototype.toString,r=Function.prototype.toString,s=/^\[object .+?Constructor\]$/,i=RegExp("^"+String(a).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return function(e){var t=typeof e;return"function"==t?i.test(r.call(e)):e&&"object"==t&&s.test(a.call(e))||!1}}()}</script><script>class JSBot{constructor(t,e,s){this.window=t,this.document=t.document,this.active=!1,this.interval=s,this.key=e="string"==typeof e?{code:e}:e,this.targets=[],this.actions=[],this.bubbles=null,this.repeats=null}setElement(t){if(t instanceof this.window.HTMLElement)this.target=t;else if(t instanceof Function)Object.defineProperty(this,"target",{get:()=>t(),set:t=>{Object.defineProperty(this,"target",{value:t})}});else{if("string"!=typeof t)throw new Error("invalid element "+t);Object.defineProperty(this,"target",{get:()=>this.document.querySelector(t),set:t=>{Object.defineProperty(this,"target",{value:t})}})}}selectElement(){let s,i;var t=new Promise(function(t,e){s=t,i=e});let r=document.createElement("div"),e=(r.style.position="absolute",r.style.zIndex="99999999999",r.style.pointerEvents="none",r.style.backgroundColor="rgba(255, 0, 0, .3)",r.style.transition="all .12s ease-in",r.classList.add("element-select-overlay"),this.document.documentElement.appendChild(r),()=>{this.document.removeEventListener("click",n),this.document.removeEventListener("mouseover",o),this.document.removeEventListener("scroll",l),this.document.removeEventListener("keypress",c)}),n=t=>{r.remove(),this.target=t.target,e(),s(t)},o=t=>{t.stopPropagation();var e=t.target.getBoundingClientRect();this.lastPos=[t.clientX,t.clientY],r.style.left=e.left+this.window.scrollX+"px",r.style.top=e.top+this.window.scrollY+"px",r.style.width=e.width+"px",r.style.height=e.height+"px"},l=t=>{if(this.lastPos){let s=!1;s||(window.requestAnimationFrame(()=>{let t=this.document.elementFromPoint(this.lastPos[0],this.lastPos[1]);var e=t.getBoundingClientRect();r.style.left=e.left+this.window.scrollX+"px",r.style.top=e.top+this.window.scrollY+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",s=!1}),s=!0)}},c=t=>{"Enter"==t.code&&(r.remove(),this.target=this.document.elementFromPoint(this.lastPos[0],this.lastPos[1]),e(),s({target:this.target,clientX:this.lastPos[0],clientY:this.lastPos[1]}))};try{this.document.addEventListener("click",n),this.document.addEventListener("scroll",l),this.document.addEventListener("keypress",c);let t=this.document.querySelector("body");t.addEventListener("mouseover",o)}catch(t){e(),i(t)}return t}click(t=[0,0],e=0){this._click(this.target,{x:t[0],y:t[1],button:e})}mouseMove(t,e){const s=new Event("mousemove",{bubbles:!0});s.movementX=t,s.movementY=e,this.target.dispatchEvent(s)}start(){if(!this.target)throw new Error("no target element set");this.active||(this._startInterval(this.key,this.interval),this.active=!0)}stop(){this.active=!1,clearTimeout(this.id)}toggle(){this.active?this.stop():this.start()}_startInterval(e,t){this.id=setInterval(()=>{if("click"===e.code){e.hasOwnProperty("clicks")||(e.clicks=1);for(let t=0;t<e.clicks;t++)this._click(this.target,e)}else e.bubbles=this.bubbles,e.repeat=this.repeats,this.__pressKey(this.target,e)},t)}newAction(t){if(!this.constructor[t+"Event"])throw new Error("Invalid type (can only be click, press or type)");return new this.constructor[t+"Event"]}_click(e,s){var i=["pointerdown","pointerup","mousedown","mouseup","click"];s.button=null==s.button?0:s.button;for(let t=0;t<i.length;t++){var r=new Event(i[t],{bubbles:!0});Object.defineProperties(r,{target:{get:()=>e},currentTarget:{get:()=>e},clientX:{get:()=>s.x??0},clientY:{get:()=>s.y??0},button:{get:()=>s.button??0},altKey:{get:()=>!1},ctrlKey:{get:()=>!1},metaKey:{get:()=>!1},shiftKey:{get:()=>!1},getModifierState:{value:()=>!1}}),e.dispatchEvent(r)}}_press(e,s){!e instanceof Array&&(e=[e]);for(let t=0;t<e.length;t++)this.__pressKey(e[t],s)}_type(s,i,r){!s instanceof Array&&(s=[s]);let n=this._promiseFactory();return function t(e){try{for(let t=0;t<s.length;t++)this.__pressKey(s[t],i[e]),s[t].value&&(s[t].value+=i[e]);e<i.length?setTimeout(t,r,e+1):n.resolve()}catch(t){n.reject(t)}}(0),n.object}_promiseFactory(){let s,i;return{object:new Promise((t,e)=>{s=t,i=e}),resolve:s,reject:i}}__pressKey(s,i){let r=["keydown","keyup","keypress"];s instanceof HTMLInputElement&&r.push("input");for(let e=0;e<r.length;e++){let t=new Event(r[e],{bubbles:i.bubbles,repeat:i.repeats});Object.defineProperties(t,{keyCode:{get:()=>i.keyCode},code:{get:()=>i.code},which:{get:()=>i.keyCode},key:{get:()=>i.key},target:{get:()=>s},currentTarget:{get:()=>s},altKey:{get:()=>i.altKey},ctrlKey:{get:()=>i.ctrlKey},metaKey:{get:()=>i.metaKey},shiftKey:{get:()=>i.shiftKey}}),t.getModifierState=t=>{switch(t){case"Alt":return i.altKey;case"Ctrl":return i.ctrlKey;case"Shift":return i.shiftKey;case"Meta":return i.metaKey}},s.dispatchEvent(t)}}static clickEvent=class{constructor(){this.action="click",this.button=0,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1}setPos=(t,e)=>(this.x=t,this.y=e,this);setButton=t=>{if("number"==typeof t)return this.button=t,this;switch(t){case"left":this.button=0;break;case"middle":this.button=1;break;case"right":this.button=2}return this};setModifierState=(t,e=!0)=>{if(!this[t+"Key"])throw new Error(`modifier key '${t}' does not exist`);return this[t+"Key"]=e,this}}}function iterate(s){let i=this;!function t(e){i.id=setTimeout(t,s[e].delay,e+1)}(0)}</script><script>class Speeder{constructor(m){this.original={timeout:setTimeout,interval:setInterval,animationFrame:requestAnimationFrame,cancelAnimationFrame:cancelAnimationFrame,date:m.Date.now,performance:m.performance.now};let{timeout:h,interval:u,animationFrame:p,date:f,performance:d}=this.original,t=(this.speed=1,this.enabled=!1,function*(){var t=Object.prototype.toString.call(new Set);let i=1,e=null,a=m.document.timeline.currentTime||m.performance.now(),r=m.document.timeline.currentTime||m.performance.now(),n=f.call(m.Date),o=f.call(m.Date),s=d.call(m.performance),l=d.call(m.performance);for(;;){var c=yield null;"number"!=typeof c?.speed?"boolean"!=typeof c?.changeFramerate?(Object.prototype.toString.call(c?.functionList)===t&&(e=c.functionList),"number"!=typeof c?.timeskip?!0===c&&(null!==e&&!e.has("setTimeout")||(m.setTimeout=function(t,e,...n){return h(t,e/i,...n)}),null!==e&&!e.has("setInterval")||(m.setInterval=function(t,e,...n){return u(t,e/i,...n)}),null!==e&&!e.has("requestAnimationFrame")||(m.requestAnimationFrame=n=>p(t=>{var e=t-a;a=t,r+=e*i,n(r)})),null!==e&&!e.has("Date.now")||(m.Date.now=function(){var t=f.call(m.Date),e=(t-n)*i;return n=t,o+=e,Math.floor(o)}),null!==e&&!e.has("performance.now")||(m.performance.now=function(){var t=d.call(m.performance),e=(t-s)*i;return s=t,l+=e})):(o+=c.timeskip,n=f.call(m.Date),l+=c.timeskip,s=d.call(m.performance))):c.changeFramerate:i=c.speed}}());t.next(),this.ctx=t,this.win=m}enable(){this.ctx.next({speed:this.speed}),this.ctx.next(!0),this.enabled=!0}disable(){this.win.setTimeout=this.original.timeout,this.win.setInterval=this.original.interval,this.win.requestAnimationFrame=this.original.animationFrame,this.win.Date.now=this.original.date,this.win.performance.now=this.original.performance,this.enabled=!1}setSpeed(t){this.speed=t,this.ctx.next({speed:t})}getSpeed(){return this.speed??1}setFunctions(t){var e=Object.prototype.toString.call([]);Object.prototype.toString.call(t)===e&&(t=new Set(t)),this.ctx.next({functionList:t}),this.enabled&&(this.disable(),this.enable())}timeskip(t){this.ctx.next({timeskip:t})}}class RNG{constructor(t){let r=Math.random,o=(this.original=Math.random,this.Math=t.Math,this.overrides={},this.overrides);this.set=function(i,a=function(){}){if("[object Array]"===Object.prototype.toString.call(i)){let n=-1;this.Math.random=function(){var t=getCallstack();if(o[t])return e=o[t],a(t,e),e;n++,void 0===i[n]&&(n=0);var e="*"===i[n]?r():i[n];return a(t,e),e}}else this.Math.random=function(){if(o[stack])return t=o[stack],a(stack,t),t;var t="*"===i?r():i;a(getCallstack(),t)}}}reset(){this.Math.random=this.original}}</script><script>class ScreenReader{constructor(e){this.ctx=e.getContext("webgl")??e.getContext("webgl2")}findObjects(e,o,f){let r;var t=new Promise(e=>{r=e});const c=this.ctx.drawingBufferWidth,h=this.ctx.drawingBufferHeight;let d=new Uint8Array(c*h*PIXEL_BITS);const u={range:this._findObjectsRangeFilter,set:this._findObjectsSetFilter,difference:this._findObjectsDifferenceFilter}[e],x=f.pixelInterval??5;return requestAnimationFrame(()=>{let e={};for(var t in o)e[t]=[];this.ctx.readPixels(0,0,c,h,this.ctx.RGBA,this.ctx.UNSIGNED_BYTE,d);for(let n=0;n<h;n+=x)for(let r=0;r<c;r+=x){if(f.excludeAreas&&f.excludeAreas.length){let t=null;for(let e=0;e<f.excludeAreas.length;e++){var i=f.excludeAreas[e];if(i[0][0]<=r&&i[0][1]<=n&&i[1][0]>=r&&i[1][1]>=n){t=Math.floor((i[1][0]-r)/x)*x;break}}if(t){r+=t;continue}}var a,l=(n*c+r)*PIXEL_BITS;let t=!1;for(let e=0;e<f.excludeColors.length;e++){var s=f.excludeColors[e];if(d[l]===s[0]&&d[1+l]===s[1]&&d[2+l]===s[2]){t=!0;break}}t||(a=u(d,l,o))&&e[a].push([r,n])}r(e)}),t}_findObjectsSetFilter(e,t,r){var n,i=e[t]<<16|e[t+1]<<8|e[t+2];for(n in r)if(r[n].has(i))return n}_findObjectsRangeFilter(e,t,r){for(var n in r){var i=r[n];if(i.min[0]<=e[t]&&e[t]<=i.max[0]&&i.min[1]<=e[t+1]&&e[t+1]<=i.max[1]&&i.min[2]<=e[t+2]&&e[t+2]<=i.max[2])return n}}_findObjectsDifferenceFilter(e,t,r){var n,i=e[t]-e[t+1]<<8|e[t+1]-e[t+2];for(n in r)if(r[n].has(i))return n}filterNearByPoints(t,r,n="first"){let i={};for(let e=0;e<t.length;e++){var a=t[e],l=Math.round(a[0]/r)+","+Math.round(a[1]/r);switch(n){case"first":if(i.hasOwnProperty(l))continue;i[l]=a;break;case"mean":i.hasOwnProperty(l)&&(i[l][0]+=a[0],i[l][1]+=a[1],i[l][2]++),i[l]=a,i[l][2]=0}}var s=Object.values(i);if("mean"===n)for(let e=0;e<s.length;e++){const o=s[e];o[0]=Math.round(o[0]/o[2]),o[1]=Math.round(o[1]/o[2])}return s}getNearestPointFromResults(t,e){let r=1/0,n=null;for(var i in e){var a=e[i];for(let e=0;e<a.length;e++){var l=a[e],s=(l[0]-t[0])**2+(l[1]-t[1])**2;s>=r||(r=s,n=l)}}return n}static displayPoints(t,r,n,i,a="200, 20, 20"){for(let e=0;e<n.length;e++){var l=n[e];const s=document.createElement("div");s.className="point-indicator",s.style.zIndex="99999999",s.style.width=i[0]+"px",s.style.height=i[1]+"px",s.style.left=r[0]+l[0]+"px",s.style.top=r[1]-l[1]+"px",s.style.border=`2px rgba(${a}, .4) solid`,s.style.position="fixed",s.style.transform="translate(-50%)",t.appendChild(s)}}static removeDisplayedPoints(){let t=document.querySelectorAll(".point-indicator");for(let e=0;e<t.length;e++)t[e].remove()}static analyseColorList(t){const r=[],n=[],i=[];let a=[];for(let e=0;e<t.length;e++){var l=this.RGBIntToArray(t[e]);r[e]=l[0],n[e]=l[1],i[e]=l[2],a[e]=this.getDifference(l)}return{range:{min:[Math.min(...r),Math.min(...n),Math.min(...i)],max:[Math.max(...r),Math.max(...n),Math.max(...i)]},difference:a}}static getDifference(e){return[e[0]-e[1],e[1]-e[2]]}static RGBIntToArray(e){var t=e>>16,r=e-(t<<16)>>8;return[t,r,e-(t<<16)-(r<<8)]}}</script><script>let consoleContainer=null,MAX_CONSOLE_LINES=100;function logToConsole(o){"string"==typeof o&&(o=o.split("\n"));for(let n=0;n<o.length;n++){let e=document.createElement("div");e.className="console-line",e.innerText=o[n],consoleContainer.appendChild(e)}consoleContainer.childElementCount>MAX_CONSOLE_LINES&&consoleContainer.children[0].remove()}window.addEventListener("load",()=>{consoleContainer=document.getElementById("console-page"),logToConsole(["JSCE HTML Console","  Max lines: "+MAX_CONSOLE_LINES,"------------------------"])})</script><script>function askForFile(e){e&&"[object Array]"==typeof Object.prototype.toString.call(e)&&(e=e.join(","));let i=document.createElement("input");return i.setAttribute("type","file"),e&&i.setAttribute("accept",e),i.click(),new Promise(function(t,n){i.addEventListener("input",e=>{i.files?t(i.files):n("no file selected")})})}async function getParsedFile(){var e=(await askForFile(".js"))[0];if(!e)return null;var t=await new Blob([e]).text();return{name:e.name,text:t}}function runModule(name,script){if(!executedModules.hasOwnProperty(name)){const prerun="const window = script.window, document = script.document";try{let fn=eval(`(function(script){${prerun};${script}})`);const scriptObj=new Module(name,window.parent);fn(scriptObj),scriptObj.binded||scriptObj.bindHotkeysToElement()}catch(e){alert(e)}}}function serializeHotkey(e,t=!1){return t?(e.altKey?"Alt+":"")+(e.ctrlKey?"Ctrl+":"")+(e.metaKey?"Meta+":"")+(e.shiftKey?"Shift+":"")+e.code:(e.altKey?"!":"")+(e.ctrlKey?"^":"")+(e.metaKey?"$":"")+(e.shiftKey?"+":"")+e.code}const executedModules={};function*iterateParams(t){if("object"!=typeof t)throw new Error("invalid param of type "+{}.toString.call(t));if(Array.isArray(t))for(let e=0;e<t.length;e++){const n=t[e].split(":");n.reverse(),yield n}else for(var e in t)yield[t[e],e]}class Module{constructor(e,t){executedModules.hasOwnProperty(e)&&executedModules[e]._unload(),(executedModules[e]=this).name=e,this.hotkeys={},this.initialized=!1,this._changeStore={},this.window=t,this.document=t.document,this.speeder=window.speederModule,this.JSBot=JSBot,this.ScreenReader=ScreenReader,this.binded=!1}bindFunction(t,i,c=[]){if(this.initialized||this._createHotkeyElements(),0<this.moduleHotkeys.childElementCount){let e=document.createElement("div");e.className="horizontal-divider",this.moduleHotkeys.appendChild(e)}let n=document.createElement("div"),e=(n.className="hotkey-container",document.createElement("span")),r=(e.innerText=t,n.appendChild(e),document.createElement("div")),o=(r.classList.add("vertical-divider"),r.style.marginLeft="5px",r.style.marginRight="5px",n.appendChild(r),document.createElement("input"));o.placeholder="Hotkey",o.style.width="12em";let a,u=["Alt","Control","Shift","Meta"];o.addEventListener("keydown",e=>{if(e.preventDefault(),e.stopPropagation(),!u.includes(e.key)){if("Escape"===e.key)return delete this.hotkeys[a],void(e.currentTarget.value="");var t=serializeHotkey(e);if("!^+KeyC"!==t){if(this.hotkeys.hasOwnProperty(t))return e.currentTarget.classList.add("error"),void setTimeout(e=>e.classList.remove("error"),500,e.currentTarget);if(e.currentTarget.value=serializeHotkey(e,!0),a&&delete this.hotkeys[a],a=t,this.hotkeys[t]={params:s},"function"==typeof i)this.hotkeys[t].keydown=i;else for(var n in i)this.hotkeys[t][n]=i[n]}}},!0),n.appendChild(o);const s=[];for(const[d,t]of iterateParams(c)){let e=document.createElement("input");switch(e.dataset.type=d,e.placeholder=t?`${t}(${d})`:d,e.style.marginLeft="5px",d){case"duration":e.addEventListener("input",e=>{var t=parseDuration(e.currentTarget.value);isNaN(t)&&""!==e.currentTarget.value?e.currentTarget.classList.add("error"):e.currentTarget.classList.remove("error")}),e.type="text";break;case"number":e.type="number";break;case"boolean":const l=document.createElement("span");l.innerText=t,n.appendChild(l),e.type="checkbox";break;default:e.type="text"}n.appendChild(e),s.push(e)}this.moduleHotkeys.appendChild(n)}bindHotkeysToElement(e="document"){if(this.binded)throw new Error("Cannot bind hotkeys twice");let t;"document"===e?t=this.document:"auto"===e?t=this._getTargetElement():"string"==typeof e&&(t=window.parent.document.querySelector(this.bindingElement));const a=this.hotkeys;function n(e,t){const n=a[t][e];var i=a[t].params;if(n){const o=[];for(let e=0;e<i.length;e++){var r=i[e];switch(r.dataset.type){case"number":o[e]=Number(r.value);break;case"duration":o[e]=parseDuration(r.value);break;case"boolean":o[e]=r.checked;break;default:o[e]=r.value}}n(...o)}}function i(e){var t=serializeHotkey(e);a.hasOwnProperty(t)&&(a[t].hasOwnProperty("keyup")&&e.repeat||n("keydown",t))}function r(e){e=serializeHotkey(e);a.hasOwnProperty(e)&&n("keyup",e)}t.addEventListener("keydown",i),t.addEventListener("keyup",r),this._changeStore.binding=[t,i,r],this.binded=!0}createToggleButton(e,t){if(this.initialized||this._createHotkeyElements(),0<this.moduleHotkeys.childElementCount){let e=document.createElement("div");e.className="horizontal-divider",this.moduleHotkeys.appendChild(e)}let n=document.createElement("div"),i=(n.className="hotkey-container",document.createElement("span")),r=(i.innerText=e,n.appendChild(i),document.createElement("button")),o=(r.style.marginLeft="5px",!(r.innerText="OFF"));r.addEventListener("click",()=>{o=!o,r.innerText=o?"ON":"OFF",t.click&&t.click(),o?t.on&&t.on():t.off&&t.off()}),n.appendChild(r),this.moduleHotkeys.appendChild(n)}requestSpeeder(){if(this.speeder.enabled)return!0;var e=confirm(`Module '${this.name}' would like to request Speeder module, turn it on?`);return e&&document.getElementById("speeder-switch").click(),e}sleep(t){return new Promise(e=>{setTimeout(e,t)})}log(e){logToConsole(e)}_createHotkeyElements(){this.initialized=!0;const e=document.getElementById("module-container");let t=document.createElement("div"),n=(t.classList.add("foldable"),this._changeStore.moduleUI=t,document.createElement("button"));n.onclick=e=>{e.currentTarget.classList.toggle("show")},n.innerText=this.name,t.appendChild(n);var i=document.createElement("div");t.appendChild(i),e.appendChild(t),this.moduleHotkeys=i}_getTargetElement(){const e=window.parent.document;return e.getElementById("#canvas")??e.getElementById("pixi-canvas")??e.querySelector("canvas")}_unload(){if(this._changeStore.binding){const e=this._changeStore.binding;e[0].removeEventListener("keydown",e[1]),e[0].removeEventListener("keyup",e[2])}this._changeStore.moduleUI&&this._changeStore.moduleUI.remove()}}</script><script>function mainPageInit(){let r=new Speeder(parent),l=(window.speederModule=r,new RNG(parent)),a=(window.rng=l,{slider:document.getElementById("speeder-slider"),textbox:document.getElementById("speeder-textbox"),switch:document.getElementById("speeder-switch"),functionList:document.querySelectorAll(".speeder-function-list"),timeskip:document.getElementById("timeskip-duration"),timeskipBtn:document.getElementById("timeskip-btn")}),t={input:document.getElementById("rng-input"),switch:document.getElementById("rng-switch")},n={slider:document.getElementById("opacity-slider"),textbox:document.getElementById("opacity-textbox")},s=document.getElementById("random-callstack-disp");function i(e,t){let n=document.createElement("div");n.innerHTML=`<pre>generated ${t}
${e}</pre>`,n.dataset.stack=e,n.addEventListener("click",function(n){let i=n.currentTarget.dataset.stack;n=prompt(`value (current: ${l.overrides[i]})`);if(null!==n)if(n=Number(n),isNaN(n))alert("Invalid input");else{var e=l.overrides[i];l.overrides[i]=Number(n);let t=document.getElementById("random-override-disp");var r=i.replaceAll(/\n? +at/g,"@");if(void 0===e){let e=document.createElement("div");e.id="stack-"+r,e.dataset.stack=i,e.innerHTML=`<pre style='margin-bottom:5px;padding-bottom:0;margin-top:3px'>${r}</pre>value: <span class="override-value">${n}</span>`,e.classList.add("stack-override-container"),e.addEventListener("click",function(e){var t=e.currentTarget.dataset.stack,n=prompt(`value (current: ${l.overrides[t]})`);if(null!==n){if(n=Number(n),isNaN(n))return alert("Invalid value");l.overrides[t]=n,e.currentTarget.querySelector("span").innerText=n}}),t.appendChild(e)}else t.querySelector(`[id="stack-${r}"] > span`).innerText=n}}),s.appendChild(n)}function e(e){e=parseInt(e.currentTarget.value);n.textbox.value=e,n.slider.value=e,document.getElementById("jsce-container").style.backgroundColor=`rgb(0,0,0,${e/100})`}function c(t){if("number"==typeof t)return t;var n,i={h:36e5,m:6e4,s:1e3,ms:1};let r=[t[0]],l="number";for(let e=1;e<t.length;e++){const o=t[e];" "!==o&&((n=o.match(/(\d|-|\.)/)?"number":"string")===l?r[r.length-1]+=o:(l=n,r.push(o)))}let a=0;for(let e=0;e<r.length;e+=2){var c=i[r[e+1]];if(void 0===c)return NaN;a+=Number(r[e])*c}return a}function o(){let t=[];for(let e=0;e<a.functionList.length;e++){const i=a.functionList[e];var n;i.checked&&(n=i.dataset.functionlist.split(","),t.push(...n))}r.setFunctions(t)}n.slider.addEventListener("input",e),n.textbox.addEventListener("input",e),a.slider.addEventListener("input",e=>{a.textbox.value=parseRange(e.currentTarget.value),checkSpeedRange(a)||r.setSpeed(Number(a.textbox.value))}),a.textbox.addEventListener("input",e=>{a.slider.value=e.currentTarget.value,checkSpeedRange(a)||r.setSpeed(Number(a.textbox.value))}),a.switch.addEventListener("input",e=>{e=!e.currentTarget.checked;a.textbox.disabled=e,(a.slider.disabled=e)?r.disable():(o(),r.enable())}),a.timeskipBtn.addEventListener("click",()=>{var e=c(a.timeskip.value);isNaN(e)&&alert(`Invalid duration '${a.timeskip.value}'`),r.timeskip(e)}),a.timeskip.addEventListener("input",e=>{var t=c(e.currentTarget.value);isNaN(t)?e.currentTarget.classList.add("error"):e.currentTarget.classList.remove("error")}),a.functionList.forEach(e=>{e.addEventListener("change",o)}),t.switch.addEventListener("input",e=>{e=e.currentTarget.checked;t.input.disabled=!e,e?l.set(parserngData(t.input),i):l.reset()}),t.input.addEventListener("input",e=>{l.set(parserngData(e.currentTarget),i)}),document.getElementById("run-module").addEventListener("click",async e=>{var t=await getParsedFile();null!==t&&runModule(t.name,t.text)}),document.getElementById("run-module-text").addEventListener("click",async e=>{var t={name:prompt("Module Name","Module_"+Math.round(1e6*Math.random()).toString(36)),text:prompt("Module Code")};null!==t&&runModule(t.name,t.text)});let d=!1,u=(document.getElementById("floating-btn-switch").addEventListener("input",e=>{d||(d=!0,init_floating_btn())}),document.getElementById("freeze-duration")),m=(document.getElementById("freeze-start").addEventListener("click",e=>{e.currentTarget.innerText="Frozen",e.currentTarget.style.backgroundColor="rgb(45, 45, 45)",window.parent.postMessage({operation:"jsce_freeze",time:Number(u.value)},"*")}),window.parent.document.documentElement.contentEditable);document.getElementById("content-editable-switch").addEventListener("input",e=>{console.log("a"),window.parent.document.documentElement.contentEditable=e.currentTarget.checked?"true":m})}function init_floating_btn(){const i=Math.min(window.parent.document.documentElement.clientWidth||0,window.parent.innerWidth||0),r=Math.min(window.parent.document.documentElement.clientHeight||0,window.parent.innerHeight||0),n=document.getElementById("floating-btn-freeze"),u=document.getElementById("freeze-duration");let l=document.createElement("div"),t=(l.style.position="fixed",l.style.zIndex="99999999999",l.style.opacity=".5",l.style.backgroundColor="#000",l.style.left="10px",l.style.top="10px",l.style.width="20px",l.style.height="20px",l.style.fontSize="15px",l.style.borderRadius="10px",l.style.userSelect="none",l.id="jsce-floating-btn",l.style.display="none",!(l.innerText="🔧")),a=10,c=10,o,d;function s(n){t=!0;window.requestAnimationFrame(()=>{var e=n.clientX-a,t=n.clientY-c;l.style.left=(e<0?0:20+e>i?i-20:e)+"px",l.style.top=(t<0?0:20+t>r?r-20:t)+"px"})}function m(e){if(2!=e.button||!n.checked)if(l.style.opacity=".5",l.style.pointerEvents="",l.style.transform="",window.parent.document.removeEventListener("mouseup",m),window.parent.document.removeEventListener("mousemove",s),t&&3<=Math.abs(e.clientX-o)&&3<=Math.abs(e.clientY-d))t=!1;else{l.style.left=o-a+"px",l.style.top=d-c+"px";let e=window.parent.document.getElementById("jsce-container");e.style.display="block",l.style.display="none",e.children[0].focus()}}l.addEventListener("contextmenu",e=>{const t=window.parent.document.getElementById("jsce-floating-btn");e.preventDefault(),t.innerText="❄️",l.style.transform="scale(1.2)",l.style.opacity="1",l.style.pointerEvents="none",window.parent.postMessage({operation:"jsce_freeze",time:Number(u.value),floatingBtn:!0},"*"),setTimeout(()=>{l.style.opacity=".5",l.style.pointerEvents="",t.innerText="🔧",l.style.transform=""},50)}),l.addEventListener("mousedown",e=>{var t;2==e.button&&n.checked||(l.style.transform="scale(1.2)",l.style.opacity="1",l.style.pointerEvents="none",t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,c=e.clientY-t.top,o=e.clientX,d=e.clientY,window.parent.document.addEventListener("mousemove",s),window.parent.document.addEventListener("mouseup",m))}),window.parent.document.documentElement.appendChild(l)}function*IDGenerator(){let e=0;for(;;)yield(++e).toString(36)}function createAutoclicker(){let e=document.getElementById("autoclick-container"),r=new JSBot(window.parent,"click",100),t=document.getElementById("autoclicker-template"),n=t.content.cloneNode(!0).children[0],l=(e.appendChild(n),{switch:n.querySelector("#autoclick-switch"),action:n.querySelector("#autoclick-action"),key:n.querySelector("#autoclick-key"),interval:n.querySelector("#autoclick-interval"),elementSelect:n.querySelector("#autoclick-element-select"),bubbles:n.querySelector("#autoclick-key-bubbles"),clicks:n.querySelector("#autoclick-clicks"),clientX:n.querySelector("#autoclick-client-x"),clientY:n.querySelector("#autoclick-client-y"),clickButton:n.querySelector("#click-button"),clickButtonDropdown:n.querySelector("#click-button-dropdown")});function i(e){n.querySelector("#autoclick-key-action").style.display="key"==e?"inline-block":"none",n.querySelector("#autoclick-canvas-action").style.display="click"==e&&"CANVAS"==r.target?.tagName?"inline-block":"none",n.querySelector("#autoclick-click-action").style.display="click"==e?"inline-block":"none",n.querySelector("#autoclick-multi-action").style.display="multi"==e?"inline-block":"none"}l.switch.addEventListener("input",t=>{if(t.currentTarget.checked){r.interval=Number(l.interval.value);let e;try{e=JSON.parse(l.key.dataset.value)}catch(t){e=l.key.dataset.value}var n,i;"key"==l.action.dataset.value?r.key=e:"click"==l.action.dataset.value&&"CANVAS"==r.target?.tagName?(n=Number(l.clientX.value),i=Number(l.clientY.value),r.key={x:n,y:i,code:"click",button:Number(l.clickButtonDropdown.dataset.value),clicks:Number(l.clicks.value)}):r.key={code:"click",button:Number(l.clickButtonDropdown.dataset.value),clicks:Number(l.clicks.value)},r.bubbles=l.bubbles.checked,r.start()}else r.stop()}),l.elementSelect.addEventListener("click",e=>{window.parent.jsce_toggle(),r.selectElement().then(e=>{let t=e.target;window.parent.jsce_toggle(),l.elementSelect.value=""+t.tagName.toLowerCase()+(t.id?"#"+t.id:"")+(""!=t.classList.value?("."+[...t.classList].join(".")).replace(".jsce-hover",""):""),i(l.action.dataset.value),"CANVAS"==t.tagName&&(l.clientX.value=e.clientX,l.clientY.value=e.clientY)})}),l.key.addEventListener("keydown",e=>{let t=e.currentTarget;t.dataset.value=JSON.stringify({keyCode:e.keyCode,code:e.code,key:e.key,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey}),t.value=(e.altKey?"Alt+":"")+(e.ctrlKey?"Ctrl+":"")+(e.metaKey?"Meta+":"")+(e.shiftKey?"Shift+":"")+e.code,e.preventDefault()}),n.querySelector("#autoclick-action .dropdown-content").addEventListener("click",e=>{i(e.currentTarget.parentElement.dataset.value)}),n.querySelector("#close_instance").addEventListener("click",e=>{r.active&&r.stop(),e.currentTarget.parentElement.remove(),r=void 0})}function attemptUpdate(){window.parent.jsce_update?window.parent.jsce_update():alert("Please update userscript at https://github.com/Gold512/JSCE/blob/main/ext.js")}</script><script>function searchPageInit(){let t=document.getElementById("all-types"),a=document.querySelectorAll(".type-option"),n=document.getElementById("search-operation"),s=document.getElementById("search-op-btn"),e=document.getElementById("search-value"),r=document.getElementById("search-location"),u=document.getElementById("clear-storage"),o=(t.addEventListener("input",e=>{for(let e=0;e<a.length;e++)a[e].disabled=t.checked}),e.addEventListener("input",e=>{var t;"auto"==n.dataset.value&&""!=e.currentTarget.value?(t=autoOperation(e.currentTarget.value))?(e.currentTarget.classList.remove("error"),s.innerText=`auto (${t.operation})`):e.currentTarget.classList.add("error"):e.currentTarget.classList.remove("error")}),{global:0,localStorage:1,sessionStorage:2,indexedDB:3}),c=["global","localStorage","sessionStorage","indexedDB"];function d(e){switch(e.operation){case"read":logToConsole(""+objectIndex.location+`:${e.path}
    READ
${e.stack}
`);break;case"write":logToConsole(""+objectIndex.location+`:${e.path}
    WRITE ${e.old} -> ${e.new}
${e.stack}
`)}}e.addEventListener("keydown",t=>{switch(t.code){case"Enter":if(!t.getModifierState("Shift")&&objectIndex&&objectIndex?.search?.length&&objectIndex.location===r.dataset.value){refine();break}newSearch();break;case"ArrowUp":{t.preventDefault();let e=o[r.dataset.value];e=e-1<0?c.length-1:e-1,e=c[e],r.dataset.value=e,r.children[0].innerText=e}break;case"ArrowDown":{t.preventDefault();let e=o[r.dataset.value];e=e+1>c.length-1?0:e+1,e=c[e],r.dataset.value=e,r.children[0].innerText=e}}}),u.addEventListener("click",async e=>{let t=e.currentTarget;if(t.dataset.confirm)return await clearAllStorage(),void window.parent.location.reload();let a=t.innerText;t.innerText="Confirm",t.dataset.confirm=setTimeout(e=>{e.dataset.confirm="",e.innerText=a},2e3,t)});const l=document.querySelector("#bookmarked-paths"),p={};function i(n,r){n=n.target.dataset.path;let e=l.querySelector(`[data-path="${n}"]`);if(e)return o=objectIndex.patches[n]??[],o=Array.from(o).join(" "),void(e.children[1].innerText=o);var o=objectIndex._getRef(n),c=objectIndex.patches[n]??[],c=Array.from(c).join(" ");{var s=n;n=o.parent,o=o.name;let e=document.createElement("div"),t=(e.classList.add("search-box"),e.classList.add("bookmark-item"),e.dataset.path=s,e.dataset.location=r,p[s]=[n,o],document.createElement("div")),a=(t.innerHTML=formatPath(s),e.appendChild(t),document.createElement("div"));return a.innerText=c,a.style.color="rgb(150, 150, 150)",e.appendChild(a),e.addEventListener("contextmenu",e=>{e.preventDefault();let t=e.currentTarget,a={Delete:()=>{objectIndex.unPatchDescriptor(s),e.target.remove()},Unpatch:()=>{objectIndex.unPatchDescriptor(s),i(e)}};"global"===t.dataset.location&&(a["Watch Read"]=()=>{objectIndex.patchDescriptor(e.target.dataset.path,"read",d),i(e,objectIndex.location)},a["Watch Write"]=()=>{objectIndex.patchDescriptor(e.target.dataset.path,"write",d),i(e,objectIndex.location)},a.Freeze=()=>{objectIndex.patchDescriptor(e.target.dataset.path,"freeze",d),i(e,objectIndex.location)}),t.classList.add("selected"),createContextMenu(e.clientX,e.clientY,a,()=>{t.classList.remove("selected")})}),void l.appendChild(e)}}document.getElementById("search-res").addEventListener("contextmenu",t=>{if(t.target.matches(".search-box")){t.preventDefault(),t.target.classList.add("selected");let e={"Set MAX_INT":async()=>{await objectIndex.set(t.target.dataset.path,Number.MAX_SAFE_INTEGER),t.target.children[1].firstElementChild.innerText=Number.MAX_SAFE_INTEGER},"Set LARGE_FLOAT":async()=>{await objectIndex.set(t.target.dataset.path,1e300),t.target.children[1].firstElementChild.innerText=1e300}};"global"===objectIndex.location&&(e.Bookmark=()=>{i(t,objectIndex.location)},e["Watch Read"]=()=>{objectIndex.patchDescriptor(t.target.dataset.path,"read",d),i(t,objectIndex.location)},e["Watch Write"]=()=>{objectIndex.patchDescriptor(t.target.dataset.path,"write",d),i(t,objectIndex.location)},e.Freeze=()=>{objectIndex.patchDescriptor(t.target.dataset.path,"freeze",d),i(t,objectIndex.location)}),createContextMenu(t.clientX,t.clientY,e,()=>{t.target.classList.remove("selected")})}})}function createContextMenu(e,t,a,n=null){function r(){d.remove(),c.remove(),n&&n()}let o=document.getElementById("jsce-container"),c=document.createElement("div");for(var s in c.className="context-menu",c.style.left=e+"px",c.style.top=t+"px",a){const n=a[s];let e=document.createElement("button");e.innerText=s,e.addEventListener("click",n),e.addEventListener("click",r),c.appendChild(e)}let d=document.createElement("div");d.className="context-menu-background",d.addEventListener("click",r),o.appendChild(d),o.appendChild(c);e=c.getBoundingClientRect();e.top+e.height>window.innerHeight&&(c.style.transform="translateY(-100%)")}function autoOperation(n){if(n){let e=(n=n.trim()).replace("==","=").match(/^((?:=|>|<)=?)(.+)/),t="",a="";if(e){if("="===e[1]|"=="===e[1]&&(e[1]+="="),"="!=e[1][0]){if(a=Number(e[2]),isNaN(a))return}else a=e[2];t=e[1]}else if(n.match(/^\/\\(?:>|<)?/))t=n.match(/^\/\\(?:>|<)?/)[0];else if(e=n.match(/^(\?|\/|\*|\.|\+\-)(.+)/))t=e[1],a=e[2];else{if(!(e=n.match(/^(\d+(?:\.\d+)?)(~~?)(\d+(?:\.\d+)?)/)))return;a=[Number(e[1]),Number(e[3])],t=e[2]}return{value:a,operation:t}}}function getTypes(){var t=document.getElementById("all-types"),a=document.querySelectorAll(".type-option");let n={};for(let e=0;e<a.length;e++)(t.checked||a[e].checked)&&(n[a[e].dataset.value]=!0);return n}function parseStorage(e){let n={};for(let t=0,a=Object.keys(e);t<a.length;t++){var r=e[a[t]];try{n[a[t]]=JSON.parse(r)}catch(e){n[a[t]]=r}}return n}function autoTypeCast(e){var t={true:!0,false:!1};const a=["'",'"'];return e=e.trim(),isNaN(Number(e))?void 0!==t[e]?e=t[e]:a.includes(e[0])&&a.includes(e[e.length-1])&&(e=e.slice(1,-1)):e=Number(e),e}function formatPath(t){let a=[""],n=0;for(let e=0;e<t.length;e++)"\\"!=t[e]?"."!=t[e]?a[n]+=t[e]:(n++,a[n]=""):(e++,a[n]+=t[e]);for(let e=1;e<a.length;e++)a[e].match(/^\d+$/)?a[e]=`<span style="color:white">[</span><span style="color:rgb(117, 255, 172)">${a[e]}</span><span style="color:white">]</span>`:a[e]='<span style="color:white">.</span>'+a[e];return`<span style="color:rgb(117, 214, 255)">${a.join("")}</span>`}async function refreshSearchResults(){var t=document.querySelector("#search-res").children;await objectIndex.read();for(let e=0;e<t.length;e++){const n=t[e];var a=objectIndex._get(n.dataset.path);n.querySelector("div[data-type]").dataset.type=typeof a,n.querySelector("div[data-type] > span").innerText=a}}async function editSelectedResults(){let r=document.querySelectorAll("#search-res > .selected");if(0!==r.length){let n=await editSelectedPrompt("Editing "+r.length+" results");null!==n&&""!==n&&(n=autoTypeCast(n),objectIndex.transform(()=>{let t=0;for(let e=0;e<r.length;e++){const a=r[e];a.querySelector("div[data-type]").dataset.type=typeof n;try{objectIndex._set(a.dataset.path,n),objectIndex.search[Number(a.dataset.index)][1]=n,a.querySelector("div[data-type] > span").innerText=n}catch(e){t++}}1<t&&alert(`Modified ${r.length} items (${t} Errors)`)}))}else alert("No results selected")}async function editSelectedPrompt(e){let t,a=new Promise(e=>{t=e}),n=document.createElement("div");function r(){n.remove()}n.id="edit-prompt-container",n.addEventListener("click",e=>{e.currentTarget===e.target&&(r(),t(null))});let o=document.createElement("div"),c=(o.classList.add("box"),n.appendChild(o),document.createElement("div")),s=(c.classList.add("box-header"),c.innerText=e,o.appendChild(c),document.createElement("div")),d=(s.classList.add("search-val-string"),s.dataset.type="undefined",o.appendChild(s),document.createElement("input"));return d.type="text",d.style.margin="auto",d.addEventListener("input",e=>{var t=d.value.trim();""!=t?(t=autoTypeCast(t),s.dataset.type=typeof t):s.dataset.type="undefined"}),d.addEventListener("keydown",e=>{"Enter"==e.code&&(e=d.value,r(),t(e))}),s.appendChild(d),document.body.appendChild(n),d.focus(),a}async function clearAllStorage(){let e=window.parent;e.localStorage.clear(),e.sessionStorage.clear(),await clearAllDBs(window.parent)}function displaySearchRes(a){let g=document.getElementById("search-res");if(g.innerHTML="",120<a.length||0===a.length){let e=document.createElement("div");return e.style.textAlign="center",e.style.margin="0 5px",e.innerText=a.length+" results",g.appendChild(e),void g.classList.remove("dynamic-scrollable")}let f=new Set,v=null,y=null,b=null;function x(){for(var e of f.values())f.delete(e),g.children[e].classList.remove("selected")}for(let t=0;t<a.length;t++){var n=a[t];let u=document.createElement("div"),e=(u.classList.add("search-box"),u.addEventListener("click",e=>{var t=e.getModifierState("Alt")||e.getModifierState("Shift"),a=e.getModifierState("Control");if(t||a){e.preventDefault();var n=Number(e.currentTarget.dataset.index),e=!e.currentTarget.classList.contains("selected"),c=e?"add":"delete",r=e?"add":"remove";if(a&&t&&null!==b){var o=Math.min(n,b),s=Math.max(n,b),d=y?"add":"delete",l=y?"add":"remove";for(let e=o;e<=s;e++)f[d](e),g.children[e].classList[l]("selected");b=null}else if(0===f.size||a)f[c](n),g.children[n].classList[r]("selected"),v=n,y=e,a&&t&&(b=n);else if(!a&&null!==v){var o=Math.min(n,v),i=Math.max(n,v);x();for(let e=o;e<=i;e++)g.children[e].classList.add("selected"),f.add(e)}}else if("true"!==u.dataset.active){x(),p.classList.remove("search-val-string");let n=document.createElement("input"),r=m.innerText,o=(u.dataset.active="true",n.value=m.innerText,!1);n.addEventListener("blur",e=>{var t;o||(m=document.createElement("span"),p.innerText="","boolean"===u.dataset.type&&(t="true"===r,h=w(t,m,u),p.appendChild(h)),m.innerText=r,p.appendChild(m),p.dataset.type=u.dataset.type,u.dataset.active=null,"string"===u.dataset.type&&p.classList.add("search-val-string"))}),n.addEventListener("keydown",t=>{if("Enter"==t.code){var a=n.value;if(""!=a&&(o=!0,(u.dataset.active=null)!==a)){a=autoTypeCast(a);try{objectIndex.set(t.currentTarget.parentElement.parentElement.dataset.path,a),"string"==typeof a&&p.classList.add("search-val-string");let e=t.currentTarget.parentElement;(m=document.createElement("span")).innerText=a,e.innerHTML="","boolean"==typeof a&&(h=w(a,m,u),e.appendChild(h)),e.appendChild(m),u.dataset.type=typeof a,p.dataset.type=typeof a,r=a,objectIndex.search[Number(u.dataset.index)][1]=a}catch(t){throw t}}}}),n.addEventListener("input",e=>{var t=n.value.trim();""!=t?(t=autoTypeCast(t),p.dataset.type=typeof t):p.dataset.type="undefined"}),p.innerHTML="",p.appendChild(n);r;c=autoTypeCast(r);p.dataset.type=c?typeof c:"undefined",n.focus()}}),document.createElement("div")),p=(u.dataset.path=n[0],u.dataset.type=typeof n[1],u.dataset.index=t,e.innerHTML=formatPath(n[0]),document.createElement("div")),h=(p.dataset.type=typeof n[1],"string"==typeof n[1]?p.classList.add("search-val-string"):p.classList.remove("search-val-string"),null),m=document.createElement("span");m.innerText=n[1],"boolean"===u.dataset.type&&(h=w(n[1],m,u),p.appendChild(h)),p.appendChild(m),u.appendChild(e),u.appendChild(p),g.appendChild(u)}function w(e,a,n){let t=document.createElement("input");return t.type="checkbox",t.classList.add("boolean-checkbox"),t.checked=e,t.addEventListener("click",e=>{e.stopPropagation();var t=e.currentTarget.parentElement.parentElement.dataset.path,e=e.currentTarget.checked;objectIndex.set(t,e),a.innerText=e,objectIndex.search[Number(n.dataset.index)][1]=e}),t}g.classList.add("dynamic-scrollable")}let objectIndex;async function newSearch(){try{var n=document.getElementById("search-location").dataset.value;let e=document.getElementById("search-value").value;var r=document.getElementById("search-value-2").value;let t=document.getElementById("search-operation").dataset.value;var o=document.getElementById("search-hidden").checked,c=getTypes();if(0==e.length)return;var s,{root:d,read:l,write:i}=await createObjectReference(n);(objectIndex=new IndexedObj(d)).location=n;let a=!0;switch(null!==l&&null!==i&&(objectIndex.onUpdate(l,i),a=!1),t){case"~":case"+-":e=[Number(e),Number(r)]}"auto"==t&&(s=autoOperation(e),e=s.value,t=s.operation),objectIndex.newSearch({value:e,operation:t,type:c,unsafe:a,deepSearch:o}),displaySearchRes(objectIndex.search)}catch(e){throw e}}async function createObjectReference(e){let t,a=null,n=null;switch(e){case"global":t=window.parent;break;case"localStorage":t=parseStorage(window.parent.localStorage),a=function(){return parseStorage(window.parent.localStorage)},n=function(a){for(let e=0,t=Object.keys(a);e<t.length;e++)window.parent.localStorage.setItem(t[e],JSON.stringify(a[t[e]]))};break;case"sessionStorage":t=parseStorage(window.parent.sessionStorage),a=function(){return parseStorage(window.parent.sessionStorage)},n=function(a){for(let e=0,t=Object.keys(a);e<t.length;e++)window.parent.sessionStorage.setItem(t[e],JSON.stringify(a[t[e]]))};break;case"indexedDB":var r=await getAllDBs(window.parent);t=parseDBData(r),a=async()=>{return parseDBData(await getAllDBs(window.parent))},n=async e=>{await setAllDBs(unparseDBData(e),window.parent)}}return{root:t,read:a,write:n}}function parseDBData(e){for(var t in e=structuredClone(e)){var a,n;for(a in e[t])for(n in e[t][a]){var r=e[t][a][n];e[t][a][n]=_attemptParse(r)}}return e}function unparseDBData(e){for(var t in e=structuredClone(e)){var a,n;for(a in e[t])for(n in e[t][a]){var r=e[t][a][n];e[t][a][n]=_reverseParse(r)}}return e}function _attemptParse(e){if("string"==typeof e)try{return["json",JSON.parse(e)]}catch(e){}return["none",e]}function _reverseParse(e){var t=e[0],a=e[1];switch(t){case"json":return JSON.stringify(a);case"none":return a;default:throw new Error("Invalid data type '"+t+"'")}}async function getAllDBs(t=window){var a=await t.indexedDB.databases();let n=[],c={};for(let e=0;e<a.length;e++){const s=a[e],d=s.name,l=t.indexedDB.open(d);c[d]={},n.push(new Promise((o,a)=>{l.onsuccess=()=>{let e=l.result,r=e.objectStoreNames;if(0!==r.length){let t=e.transaction(r,"readonly");for(let n=0;n<r.length;n++){let e=t.objectStore(r[n]);c[d][r[n]]={},(request=e.openCursor()).onerror=function(e){a("unable to create object store cursor for '"+r[n]+"'")},request.onsuccess=function(e){let t=e.target.result;var a;t&&(e=t.primaryKey,a=t.value,c[s.name][r[n]][e]=a,t.continue()),o()}}}else o()},l.onerror=()=>{a(`failed to open database '${d}'`)}}))}return await Promise.all(n),c}async function setAllDBs(s,e=window){let t=[];for(let c in s){const d=e.indexedDB.open(c);t.push(new Promise((o,e)=>{d.onerror=()=>{e(`failed to open database '${c}'`)},d.onsuccess=()=>{let e=d.result,t=e.transaction(Object.keys(s[c]),"readwrite");for(var a in s[c]){let e=t.objectStore(a);var n,r=s[c][a];for(n in r)e.put(r[n],n)}o()}}))}await Promise.all(t)}async function clearAllDBs(t){const e=await t.indexedDB.databases();e.forEach(e=>{t.indexedDB.deleteDatabase(e.name)})}function refine(){let e=document.getElementById("search-value").value,t=document.getElementById("search-operation").dataset.value;var a,n=getTypes();switch(t){case"~":case"+-":e=[Number(e),Number(value2)]}"auto"==t&&(a=autoOperation(e),e=a.value,t=a.operation),objectIndex.refine({value:e,operation:t,type:n}),displaySearchRes(objectIndex.search)}function change_search_op(e){if(e.target.matches("button"))switch(e.target.dataset.value){case"~":case"+-":document.getElementById("search-value-2-cont").style.display="inline-block",document.getElementById("search-value").style.width="20%",document.getElementById("search-op-disp").innerText=e.target.dataset.value;break;default:document.getElementById("search-value-2-cont").style.display="none",document.getElementById("search-value").style.width="40%"}}async function saveAndReload(){let e=window.parent,t=(void 0!==objectIndex?(await objectIndex.read(),e.sessionStorage.setItem("jsce-data",JSON.stringify({search:objectIndex.search,location:objectIndex.location,openOnReload:document.getElementById("open-on-reload").checked}))):e.sessionStorage.setItem("jsce-data",JSON.stringify({openOnReload:document.getElementById("open-on-reload").checked})),"");t=document.getElementById("open-on-reload").checked?"1":"2",e.sessionStorage.setItem("jsce-startup",t),e.location.reload()}</script><script>function parserngData(e){let t=e.value;t=t.split(",");for(let e=0;e<t.length;e++){var n=t[e].trim();t[e]="*"!==n?Number(n):n}return t.includes(NaN)?e.classList.add("error"):e.classList.remove("error"),t}function checkSpeedRange(e){if(Number(e.textbox.value)<0)return e.textbox.classList.add("error"),!0;e.textbox.classList.remove("error")}const speederSpeeds=[1e-4,.001,.005,.0075,.01,.025,.05,.075,.1,.25,.5,.7,.8,.9,1,1.25,1.5,2,3,5,10,15,25,50,75,100,200,500,1e3];function parseRange(e){return speederSpeeds[(speederSpeeds.length-1)/2+parseInt(e)]}let currentFocused=null,pages;function openPage(n){for(let e=0,t=Object.keys(pages);e<t.length;e++)t[e]===n?pages[t[e]].style.display="block":pages[t[e]].style.display="none"}function open_dropdown(e){(currentFocused=e).classList.toggle("show")}function radio_set(e){let t=e.parentElement.parentElement;t.dataset.value=e.dataset.value,t.querySelector("button").innerText=e.innerText}function clear_rnd_calls(e){e.parentElement.children[1].innerHTML="-- start --"}function runJSFile(){let file=document.getElementById("packagefile").files[0];file&&new Blob([file]).text().then(async function(v){try{eval(v)}catch(e){alert(e.message)}})}window.onload=async function(){pages={main:document.getElementById("main-page"),search:document.getElementById("search-page"),storage:document.getElementById("storage-page"),console:document.getElementById("console-page")},openPage("main"),document.getElementById("page").addEventListener("click",function(e){e.target.dataset.value&&openPage(e.target.dataset.value.toLowerCase())}),document.addEventListener("keydown",function(e){if(window.parent!=window){if(e.getModifierState("Alt")&&e.getModifierState("Control")&&e.getModifierState("Shift")&&"KeyC"===e.code){var t=window.parent.document.getElementById("jsce-container");parent.jsce_toggle();let e=document.getElementById("jsce-floating-btn")||window.parent.document.getElementById("jsce-floating-btn");e&&(t&&"none"==t.style.display?e.style.display="none":e.style.display=document.getElementById("floating-btn-switch").checked?"block":"none")}if("Escape"===e.code){let e=window.parent.document.getElementById("jsce-floating-btn");e&&(e.style.display=document.getElementById("floating-btn-switch").checked?"block":"none"),parent.jsce_toggle()}}}),document.addEventListener("click",function(e){if(currentFocused)return e.target!==currentFocused&&currentFocused.classList.remove("show"),!0}),mainPageInit(),searchPageInit();var t=window.parent.sessionStorage.getItem("jsce-startup");if(null!=t){var n=JSON.parse(window.parent.sessionStorage.getItem("jsce-data")),t=(n.search&&displaySearchRes(n.search),window.parent.sessionStorage.removeItem("jsce-data"),"2"==t&&(document.getElementById("open-on-reload").checked=!0),window.parent.sessionStorage.removeItem("jsce-startup"),openPage("search"),document.getElementById("sc-1-1-2").checked=!0,n.location);if(!t)return;let e=document.getElementById("search-location");e.dataset.value=t,e.querySelector("button").innerText=t;var{root:a,read:o,write:r}=await createObjectReference(t);(objectIndex=new IndexedObj(a)).location=t,objectIndex.search=n.search,"sessionStorage"!==t&&"localStorage"!==t||objectIndex.onUpdate(o,r)}let e=document.getElementById("packagefile"),c=document.getElementById("selectedpkg");e.addEventListener("change",function(){c.innerText=e.files[0]?.name||"No File Selected"})}</script><div class="main dark-scrollbar"><div class="segmented-control"id="page"><input type="radio"name="sc-1-1"id="sc-1-1-1"checked="checked"> <input type="radio"name="sc-1-1"id="sc-1-1-2"> <input type="radio"name="sc-1-1"id="sc-1-1-3"> <input type="radio"name="sc-1-1"id="sc-1-1-4"> <label for="sc-1-1-1"data-value="Main">Main</label> <label for="sc-1-1-2"data-value="Search">Search</label> <label for="sc-1-1-3"data-value="Storage">Storage</label> <label for="sc-1-1-4"data-value="Console">Console</label></div><div id="main-page"class="page dark-scrollbar"style="overflow:auto"><div class="box"><div class="box-header">Utility</div><div style="padding-left:.5em">Background Opacity</div><input type="range"min="1"max="100"value="100"class="slider"id="opacity-slider"> <input type="number"value="100"id="opacity-textbox"autocomplete="off"><div style="padding-left:.5em;margin-top:.5em">Floating Button <label class="switch"><input type="checkbox"id="floating-btn-switch"> <span class="switch-slider round"></span></label></div><div style="padding-left:.5em;margin-top:.5em">Open on Reload <label class="switch"><input type="checkbox"id="open-on-reload"> <span class="switch-slider round"></span></label></div><div style="padding-left:.5em;margin-top:.5em">Document content editable <label class="switch"><input type="checkbox"id="content-editable-switch"> <span class="switch-slider round"></span></label></div><div style="padding-left:.5em;margin-top:.5em"><button onclick="attemptUpdate()">Update</button></div></div><div class="box"><div class="box-header">Execute JS file</div><label class="custom-file-upload"><input type="file"id="packagefile"accept=".js"> <span class="cust-finput-disp">Select File</span> <span id="selectedpkg">No File Selcted</span></label> <button onclick="runJSFile()"style="transform:translateY(-20%)">Run</button></div><div class="box"><div class="box-header">Freeze Page</div><div style="padding-left:.5em;margin-top:.5em">Duration <input id="freeze-duration"style="margin-right:.3em"type="number"autocomplete="off"placeholder="duration (ms)"> <button id="freeze-start">Freeze</button><br></div><div style="padding-left:.5em;margin-top:.5em">Right click floating button to freeze <label class="switch"><input type="checkbox"id="floating-btn-freeze"> <span class="switch-slider round"></span></label></div></div><div class="box"><div class="box-header">Speeder <label class="switch"><input type="checkbox"id="speeder-switch"> <span class="switch-slider round"></span></label></div><input disabled="disabled"type="range"min="-14"max="14"value="0"class="slider"id="speeder-slider"> <input disabled="disabled"type="number"value="1"id="speeder-textbox"autocomplete="off"><div class="foldable"id="type-select-cont"><button onclick='this.classList.toggle("show")'>Functions</button><div><div class="field"><input class="speeder-function-list"type="checkbox"data-functionlist="setTimeout,setInterval"> Callback</div><div class="field"><input class="speeder-function-list"checked="checked"type="checkbox"data-functionlist="Date.now,performance.now,requestAnimationFrame"> Timestamp return</div></div></div><div class="foldable"id="type-select-cont"><button onclick='this.classList.toggle("show")'>Time Skip</button><div><input id="timeskip-duration"class="mono"style="margin-right:.3em"autocomplete="off"placeholder="1s250ms"> <button id="timeskip-btn">Skip</button></div></div></div><div class="box"><div class="box-header">RNG <label class="switch"><input type="checkbox"id="rng-switch"> <span class="switch-slider round"></span></label></div><span class="quote">Overwrite random function use * for default value and comma to seperate a list of values to cycle over</span> <input disabled="disabled"id="rng-input"value="*"><div class="foldable"><button onclick='this.classList.toggle("show")'>call history</button><div id="random-callstack-controls"><button onclick="clear_rnd_calls(this)">Clear</button><div id="random-callstack-disp"class="dark-scrollbar">-- start --</div></div></div><div class="foldable"><button onclick='this.classList.toggle("show")'>stack overrides</button><div id="random-override-disp"></div></div></div><div class="box"><div class="box-header">Module</div><button id="run-module">Run</button> <button id="run-module-text">Run Text</button><div id="module-container"></div></div><div class="box"style="margin-bottom:8em"><div class="box-header">Autoclicker <button style="transform:translateY(-15%)"onclick="createAutoclicker()">+</button></div><div id="autoclick-container"></div></div></div><div id="search-page"class="page"style="display:none"><div class="dynamic-sizing"><div class="box fixed"id="search-params"><input id="search-value"style="width:40%"autocomplete="off"> <span id="search-value-2-cont"style="display:none">&nbsp;<span id="search-op-disp"></span>&nbsp; <input type="number"id="search-value-2"style="width:80%"autocomplete="off"></span><div class="field">Location<div class="dropdown"data-value="global"id="search-location"><button onclick="open_dropdown(this)"class="dropbtn">global</button><div class="dropdown-content"><button onclick="radio_set(this)"data-value="global">global</button> <button onclick="radio_set(this)"data-value="localStorage">localStorage</button> <button onclick="radio_set(this)"data-value="sessionStorage">sessionStorage</button> <button onclick="radio_set(this)"data-value="indexedDB">indexedDB</button></div></div></div><div class="field">Operation<div class="dropdown"data-value="auto"id="search-operation"><button onclick="open_dropdown(this)"class="dropbtn"id="search-op-btn">Auto (none)</button><div class="dropdown-content"onclick="change_search_op(event)"><button onclick="radio_set(this)"data-value="auto">Auto (none)</button><div></div><button onclick="radio_set(this)"data-value="===">strict equals (===)</button> <button onclick="radio_set(this)"data-value="=="class="divider">equals (==)</button><div></div><button onclick="radio_set(this)"data-value="~"class="divider">range (~)</button> <button onclick="radio_set(this)"data-value="+-"class="divider">within variation (+-)</button><div></div><button onclick="radio_set(this)"data-value=">=">greater or equal (>=)</button> <button onclick="radio_set(this)"data-value=">">greater (>)</button><div></div><button onclick="radio_set(this)"data-value="&lt;=">less or equal (&lt;=)</button> <button onclick="radio_set(this)"data-value="&lt;">less (&lt;)</button><div></div><button onclick="radio_set(this)"data-value="?">includes string (?)</button> <button onclick="radio_set(this)"data-value="/">match regex (/)</button></div></div></div><div class="foldable"id="type-select-cont"><button onclick='this.classList.toggle("show")'>Options</button><div id="type-select"><div class="field"><input id="all-types"type="checkbox"checked="checked"> All</div><div class="vertical-divider"></div><div class="field"><input disabled="disabled"class="type-option"data-value="boolean"type="checkbox"> Boolean</div><div class="field"><input disabled="disabled"class="type-option"data-value="number"type="checkbox"> Number</div><div class="field"><input disabled="disabled"class="type-option"data-value="string"type="checkbox"> String</div><div class="field"><input disabled="disabled"class="type-option"data-value="function"type="checkbox"> Function</div><div class="horizontal-divider"></div><div class="field"><input id="search-hidden"type="checkbox">Search Hidden</div></div></div><div class="foldable"id="bookmark-accordian"><button onclick='this.classList.toggle("show")'>Bookmarks</button><div id="bookmarked-paths"></div></div><button onclick="newSearch()">New Search</button> <button onclick="refine()">Refine</button> <button onclick="refreshSearchResults()">Refresh</button> <button onclick="editSelectedResults()">Edit Selection</button> <button onclick="saveAndReload()"style="margin-left:.5em">Save & Reload</button> <button id="clear-storage">Clear Storage</button></div><div class="box dark-scrollbar"id="search-res"style="overflow-y:auto"><div style="text-align:center;margin:0 5px">No search results yet, press new search to start a new search</div></div></div></div><div id="storage-page"class="page"style="display:none"></div><div id="console-page"class="page"style="display:none"></div></div></div><template id="autoclicker-template"><div class="list-item"><button id="close_instance">&#x2715;</button> <label class="switch"><input type="checkbox"id="autoclick-switch"> <span class="switch-slider round"></span></label><div class="field">Target <input id="autoclick-element-select"style="cursor:pointer"autocomplete="off"readonly="readonly"></div><div class="field">Action<div class="dropdown"data-value="click"id="autoclick-action"><button onclick="open_dropdown(this)"class="dropbtn">Click</button><div class="dropdown-content"><button onclick="radio_set(this)"data-value="click">Click</button> <button onclick="radio_set(this)"data-value="key">Press Key</button> <button onclick="radio_set(this)"data-value="multi">Multi</button></div></div><span id="autoclick-key-action"style="display:none"><input placeholder="key"style="margin-left:3px"autocomplete="off"spellcheck="false"id="autoclick-key"> <input type="checkbox"id="autoclick-key-repeat"> Repeats <input type="checkbox"id="autoclick-key-bubbles"checked="checked"> Bubbles </span><span id="autoclick-click-action"><div class="dropdown"data-value="0"id="click-button-dropdown"><button onclick="open_dropdown(this)"class="dropbtn"id="click-button">Left</button><div class="dropdown-content"><button onclick="radio_set(this)"data-value="0">Left</button> <button onclick="radio_set(this)"data-value="1">Middle</button> <button onclick="radio_set(this)"data-value="2">Right</button></div></div><span style="margin-left:3px">Clicks</span> <input type="number"min="1"placeholder="clicks"style="width:5em"id="autoclick-clicks"value="1"><div id="autoclick-canvas-action"style="display:none"><input type="number"placeholder="X"style="margin-left:3px;width:5em"id="autoclick-client-x"> <input type="number"placeholder="Y"style="margin-left:3px;width:5em"id="autoclick-client-y"></div></span><span id="autoclick-multi-action"style="display:none"><button>Configure</button></span></div><div class="field">Interval <input type="number"id="autoclick-interval"min="0"value="100"></div></div></template>