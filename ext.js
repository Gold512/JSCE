// ==UserScript==
// @name         JSCE
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world! github: https://gold512
// @author       Gold512
// @match        *://*/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=tampermonkey.net
// @grant        none
// ==/UserScript==

(function() {
    'use strict';
    let initialised = false;
    let frame;
    function init() {
        let html = "<!DOCTYPE html><html lang=\"en\"><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\"content=\"IE=edge\"><meta name=\"viewport\"content=\"width=device-width,initial-scale=1\"><title>Document<\/title><div id=\"jsce-container\"><style>body,html{min-height:100%;min-width:100%}body{background-color:rgba(255,255,255,0);margin:0;padding:0;color:#fff}button{background-color:var(--background);border:var(--outline) 1px solid;box-sizing:border-box;transition:background-color .3s ease-in-out;color:#fff;cursor:pointer;border-radius:.125em}button:hover{background-color:var(--background-hover)}input:is([type=number],[type=text],:not([type])){background:#252525;border:#535353 1px solid;color:#fff;border-radius:.5em;padding-left:5px}input[disabled]:is([type=number],[type=text],:not([type])){background:#1a1a1a;color:#5e5e5e}input:focus{outline:0!important;border-color:#afafaf}input.error:focus{outline:0!important;border-color:red;background:#380000}input.error{border-color:red;background:#380000}pre{background:#1a1a1a;padding:5px 3px}.field{display:inline-block;background:#222;border-radius:1em;padding-left:5px;padding-right:5px;margin-left:3px;margin-right:3px}<\/style><style>#jsce-container{width:100vw;height:100vh;top:0;left:0;padding:0;margin:0;position:absolute;z-index:9999999999;background:#000;color:#fff;--outline:rgb(83, 83, 83);--background:rgb(37, 37, 37);--background-hover:rgb(56, 56, 56)}.page{width:100%;height:100%}#rng-input{width:80%}.box{width:calc(100% - 20px);margin:10px;border:1px solid gray;border-radius:5px;padding:5px;box-sizing:border-box}.box-header{width:calc(100% - 10px);border-bottom:1px solid gray;font-size:1.4em;margin-bottom:5px}.slider{-webkit-appearance:none;width:80%;height:15px;border-radius:5px;background:#d3d3d3;outline:0;opacity:.7;-webkit-transition:.2s;transition:opacity .2s}.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:#04aa6d;cursor:pointer}.slider::-moz-range-thumb{width:25px;height:25px;border-radius:50%;background:#04aa6d;cursor:pointer}.slider[disabled]::-moz-range-thumb{background:gray;cursor:default}.slider[disabled]::-webkit-slider-thumb{background:gray;cursor:default}.slider[disabled]{background:#505050}.quote{border-left:5px solid gray;padding-left:3px;padding-top:1px;padding-bottom:1px;display:inline-block;margin:5px 0}#random-callstack-disp{overflow-y:auto;max-height:30vh}#random-callstack-disp>div:not(:last-child){margin-bottom:0;box-sizing:border-box}#random-callstack-disp>div:hover>pre{background:var(--background-hover);cursor:pointer}.dark-scrollbar::-webkit-scrollbar{width:.8em}.dark-scrollbar::-webkit-scrollbar-track{background:#141414}.dark-scrollbar::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,.151);margin:3px 0}.override-value{padding:3px 0;background:var(--background)}#type-select-cont{margin-bottom:5px}#type-select{cursor:default}#type-select>input{cursor:pointer}#search-res{overflow-y:auto;max-height:75vh}#search-res>div:hover{background:#181818}.search-box:not(:last-child){border-bottom:1px solid var(--outline)}.search-box{padding-left:.4em;padding-right:.4em;display:block;border-top:5px solid transparent;padding-bottom:5px;cursor:pointer;font-family:monospace}.search-box input{font-family:inherit}.search-box:first-child{border-top:2px solid transparent;padding-bottom:8px}.search-box div:nth-child(1){text-align:left;display:inline-block;left:3px}.search-box div:nth-child(2){float:right;margin:0;padding:0}.search-box div:nth-child(2)::before{content:attr(data-type);display:inline-block;margin-right:1em}.search-box .search-val-string span::after,.search-box .search-val-string span::before{content:\"\'\"}.type-option{margin-left:0;padding-left:0}#search-res>div.search-box:hover div[data-type]:nth-child(2)::before{background:#2d2d2d}.search-box div[data-type]:nth-child(2)::before{background:#202020;content:attr(data-type);display:inline-block;padding:2px .3em;text-transform:capitalize;border-radius:5px}.search-box div[data-type=string]:nth-child(2)::before{color:#ff0}.search-box div[data-type=number]:nth-child(2)::before{color:#66cdaa}.search-box div[data-type=boolean]:nth-child(2)::before{color:#6c6cff}.search-box div[data-type=function]:nth-child(2)::before{color:#9370db}.list-item{transition:margin-bottom .2s ease-in-out}.list-item:first-child{margin-top:5px}.list-item:not(:last-child){margin-bottom:5px;padding-bottom:5px;border-bottom:1px solid var(--outline)}<\/style><style>.segmented-control{position:relative;display:inline-block;border:2px solid currentColor;font-style:normal;font-weight:400;text-decoration:none;overflow:hidden;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-user-select:-moz-none;-ms-user-select:none;-webkit-user-select:none;user-select:none;-moz-transition-duration:.8s;-o-transition-duration:.8s;-webkit-transition-duration:.8s;transition-duration:.8s;-moz-transition-timing-function:cubic-bezier(.445,.05,.55,.95);-o-transition-timing-function:cubic-bezier(.445,.05,.55,.95);-webkit-transition-timing-function:cubic-bezier(.445,.05,.55,.95);transition-timing-function:cubic-bezier(.445,.05,.55,.95);-webkit-tap-highlight-color:transparent}.segmented-control:nth-child(1){width:100%;color:#8f8f8f}.segmented-control:nth-child(2){width:80%;color:#8f8f8f}.segmented-control>input{position:absolute;left:-10000px;opacity:0}.segmented-control>input[type=checkbox]~label{-moz-transition-duration:0;-o-transition-duration:0;-webkit-transition-duration:0;transition-duration:0}.segmented-control>input[type=checkbox]~label:before{opacity:0}.segmented-control>input:disabled:nth-child(1)~label:nth-of-type(1){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(1):checked~label:nth-of-type(1):after,.segmented-control>input:nth-child(1):checked~label:nth-of-type(1):before{opacity:1}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(1)~label:before{left:0}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(2)~label:before{left:0}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(3)~label:before{left:0}.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(1):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:0}.segmented-control>input:disabled:nth-child(2)~label:nth-of-type(2){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(2):checked~label:nth-of-type(2):after,.segmented-control>input:nth-child(2):checked~label:nth-of-type(2):before{opacity:1}.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2):after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2):before,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2)~label:after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(2)~label:before{left:50%}.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3):after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3):before,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(3)~label:before{left:33.33333%}.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(2):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:25%}.segmented-control>input:disabled:nth-child(3)~label:nth-of-type(3){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(3):checked~label:nth-of-type(3):after,.segmented-control>input:nth-child(3):checked~label:nth-of-type(3):before{opacity:1}.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3):after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3):before,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(3)~label:before{left:66.66667%}.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(3):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:50%}.segmented-control>input:disabled:nth-child(4)~label:nth-of-type(4){opacity:.3;cursor:not-allowed}.segmented-control>input:nth-child(4):checked~label:nth-of-type(4):after,.segmented-control>input:nth-child(4):checked~label:nth-of-type(4):before{opacity:1}.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4):after,.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4):before,.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>input:nth-child(4):checked~label:first-of-type:nth-last-of-type(4)~label:before{left:75%}.segmented-control>label{display:inline-block;padding:0 .71em;cursor:pointer;float:left;line-height:3em;font-style:inherit;font-weight:inherit;text-decoration:inherit;-moz-transition-property:none;-o-transition-property:none;-webkit-transition-property:none;transition-property:none;-moz-transition-duration:inherit;-o-transition-duration:inherit;-webkit-transition-duration:inherit;transition-duration:inherit;-moz-transition-timing-function:inherit;-o-transition-timing-function:inherit;-webkit-transition-timing-function:inherit;transition-timing-function:inherit}.segmented-control>label:after,.segmented-control>label:before{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}.segmented-control>label:after{color:#fff;content:attr(data-value);text-align:center;padding:inherit;z-index:10;font-style:inherit;text-decoration:inherit;font-weight:inherit;opacity:0;-moz-transition-property:opacity,left;-o-transition-property:opacity,left;-webkit-transition-property:opacity,left;transition-property:opacity,left;-moz-transition-duration:inherit;-o-transition-duration:inherit;-webkit-transition-duration:inherit;transition-duration:inherit;-moz-transition-timing-function:inherit;-o-transition-timing-function:inherit;-webkit-transition-timing-function:inherit;transition-timing-function:inherit}.segmented-control>label,.segmented-control>label:after{text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.segmented-control>label:before{content:\'\';color:inherit;background:currentColor;-moz-transition-property:left;-o-transition-property:left;-webkit-transition-property:left;transition-property:left;-moz-transition-duration:inherit;-o-transition-duration:inherit;-webkit-transition-duration:inherit;transition-duration:inherit;-moz-transition-timing-function:inherit;-o-transition-timing-function:inherit;-webkit-transition-timing-function:inherit;transition-timing-function:inherit}.segmented-control>label:first-of-type:nth-last-of-type(1),.segmented-control>label:first-of-type:nth-last-of-type(1):after,.segmented-control>label:first-of-type:nth-last-of-type(1):before,.segmented-control>label:first-of-type:nth-last-of-type(1)~label,.segmented-control>label:first-of-type:nth-last-of-type(1)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(1)~label:before{width:100%}.segmented-control>label:first-of-type:nth-last-of-type(2),.segmented-control>label:first-of-type:nth-last-of-type(2):after,.segmented-control>label:first-of-type:nth-last-of-type(2):before,.segmented-control>label:first-of-type:nth-last-of-type(2)~label,.segmented-control>label:first-of-type:nth-last-of-type(2)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(2)~label:before{width:50%}.segmented-control>label:first-of-type:nth-last-of-type(3),.segmented-control>label:first-of-type:nth-last-of-type(3):after,.segmented-control>label:first-of-type:nth-last-of-type(3):before,.segmented-control>label:first-of-type:nth-last-of-type(3)~label,.segmented-control>label:first-of-type:nth-last-of-type(3)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(3)~label:before{width:33.33333%}.segmented-control>label:first-of-type:nth-last-of-type(4),.segmented-control>label:first-of-type:nth-last-of-type(4):after,.segmented-control>label:first-of-type:nth-last-of-type(4):before,.segmented-control>label:first-of-type:nth-last-of-type(4)~label,.segmented-control>label:first-of-type:nth-last-of-type(4)~label:after,.segmented-control>label:first-of-type:nth-last-of-type(4)~label:before{width:25%}.segmented-control .italic,.segmented-control.italic{font-style:italic}.segmented-control .bold,.segmented-control.bold{font-weight:700}.segmented-control .underline,.segmented-control.underline{text-decoration:underline}.segmented-control .line-through,.segmented-control.line-through{text-decoration:line-through}.segmented-control>label:hover{background-color:#1a1a1a}<\/style><style>#jsce-container .switch{position:relative;display:inline-block;width:2em;height:1em}#jsce-container .switch input{opacity:0;width:0;height:0}#jsce-container .switch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#7c7c7c;-webkit-transition:.4s;transition:.4s}#jsce-container .switch-slider:before{position:absolute;content:\"\";height:.9em;width:.9em;left:.1em;bottom:.05em;background-color:#4d4d4d;-webkit-transition:.4s;transition:.4s}#jsce-container input:checked+.switch-slider{background-color:#2196f3}#jsce-container input:focus+.switch-slider{box-shadow:0 0 1px #2196f3}#jsce-container input:checked+.switch-slider:before{-webkit-transform:translateX(.9em);-ms-transform:translateX(.9em);transform:translateX(.9em)}#jsce-container .switch-slider.round{border-radius:1em}#jsce-container .switch-slider.round:before{border-radius:50%}<\/style><style>.dropbtn{background-color:#3f3f3f;color:#fff;border:none;cursor:pointer;height:1.5em;border:#535353 1px solid;padding-left:.5em}.dropbtn::after{content:\"\u25BE\";padding-left:.3em}.dropbtn:focus,.dropbtn:hover{background-color:#2980b9}.dropdown{position:relative;display:inline-block;padding-left:3px}.dropdown-content{display:none;position:absolute;background-color:#383838;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1;border-radius:5px;padding:.3em}.dropdown-content>button{color:#fff;padding:9px 12px;text-decoration:none;display:block;cursor:default;border-radius:5px;width:100%;background-color:inherit;border:none;text-align:left}.dropdown-content>div{height:1px;margin-left:2%;margin-bottom:3px;width:98%;display:block;content:\"\";background:var(--outline)}.dropdown-content>button:not(:last-child){margin-bottom:3px}.dropdown-content>button:hover{background-color:#525252}.dropdown .show~.dropdown-content{display:block}<\/style><style>.foldable>button{background:0 0;color:#b9b9b9;margin-top:.5em;cursor:pointer;border-bottom:var(--outline) 1px solid;width:100%;justify-content:left;text-align:left}.foldable>button.show{background:var(--outline);transition-duration:.2s;color:#fff}.foldable>button::before{content:\"\u25BE\"}.foldable>button.show::before{content:\"\u25B4\"}.foldable>button~div{display:none}.foldable>button.show~div{display:block;border-left:var(--outline) 1px solid;border-right:var(--outline) 1px solid;border-bottom:var(--outline) 1px solid;padding:3px 5px}<\/style><script>function getCallstack(t=0){try{throw new Error(\"\")}catch(e){return e.stack.split(\"\\n\").slice(2+t).join(\"\\n\")}}class IndexedObj{constructor(e={},t=\"\"){this.obj=e,this.search=[],this.update=()=>this.obj,this.path=t}set(e,t){this.update(\"read\");e=this._set(e,t);return this.update(\"write\"),e}get(e){return this.update(\"read\"),this._get(e)}export(){return{search:this.search}}_get(t){t=t.split(\".\");let r=this.obj;for(let e=0;e<t.length;e++)if(void 0===(r=r[t[e]]))return;return r}_set(t,e){t=t.split(\".\");let r=this.obj;for(let e=0;e<t.length-1;e++){if(\"object\"!=typeof r[t[e]])return!1;r=r[t[e]]}return r[t[t.length-1]]=e,!0}addObserver(r,e,a){var t=this._getRef(r);let s=t.parent[t.name],n={get(){return s},set(e){s=e},enumerable:!0,configurable:!0};(e=\"string\"==typeof e?\"*\"==e?[\"read\",\"write\"]:[e]:e).includes(\"read\")&&(n.get=function(){try{throw new Error(\"\")}catch(e){a({stack:e.stack.split(\"\\n\").slice(2).join(\"\\n\"),value:s,operation:\"read\",path:r})}return s}),e.includes(\"write\")&&(n.set=function(t){try{throw new Error(\"\")}catch(e){a({stack:e.stack.split(\"\\n\").slice(2).join(\"\\n\"),old:s,new:t,operation:\"write\",path:r})}s=t}),Object.defineProperty(t.parent,t.name,n)}newSearch(e){this.update(\"read\"),this.search=this._searchData(this.obj,this._parseSearch(e))}refine(e){let{value:t,type:r,operation:a}=this._parseSearch(e);if(this.update(\"read\"),!this.search)throw new Error(\"no search to refine\");let s=[];for(let e=0;e<this.search.length;e++){var n=this._get(this.search[e][0]);void 0!==n&&r[typeof n]&&a(n,t,this.search[e][1])&&(this.search[e][1]=n,s.push(this.search[e]))}this.search=s}removeObserver(e){let t=this._getRef(e);e=t.parent[t.name];t.parent[t.name]=e}onUpdate(t,r){this.update=e=>{switch(e){case\"read\":this.obj=t();break;case\"write\":r(this.obj);break;default:throw new Error(\"invalid operation\")}}}_parseSearch(e){let t=e.value;isNaN(Number(t))&&(t=Number(t));let r;switch(e.operation){case\"===\":r=(e,t)=>e===t;break;case\"==\":r=(e,t)=>e==t;break;case\"\/\\\\\":r=(e,t,r)=>e!=r;break;case\"\/\\\\>\":r=(e,t,r)=>r<e;break;case\"\/\\\\<\":r=(e,t,r)=>e<r;break;case\"+-\":r=(e,t)=>Math.abs(e-t[0])<t[1];break;case\"~~\":function a(e,t){return t=Math.pow(10,t),Math.round((e+Number.EPSILON)*t)\/t}r=(e,t)=>a(e,t[1])==a(t[0],t[1]);break;case\"~\":r=(e,t)=>t[0]<=e&&e<=t[1];break;case\">=\":r=(e,t)=>t<=e;break;case\">\":r=(e,t)=>t<e;break;case\"<=\":r=(e,t)=>e<=t;break;case\"<\":r=(e,t)=>e<t;break;case\"?\":t=new String(t),r=(e,t)=>String(e).includes(t);break;case\"\/\":t=new RegExp(t),r=(e,t)=>String(e).match(t)}return{value:t,operation:r,type:e.type}}_searchData(t,r,a=\"\",s=0){if(100==s)return[];let{value:n,type:i,operation:o}=r,c=Object.keys(t),h=[];for(let e=0;e<c.length;e++){var l=t[c[e]];t===l||null==l||null==l||l===window||l===self||this._isNative(l)||(\"object\"!=typeof l||l instanceof Function?i[typeof l]&&o(l,n)&&h.push([a+(\"\"!==a?\".\":\"\")+c[e],l]):h.push(...this._searchData(l,r,a+(\"\"!==a?\".\":\"\")+c[e],s+1)))}return h}_getRef(t){t=t.split(\".\");let r=this.obj;for(let e=0;e<t.length-1;e++){if(\"object\"!=typeof r[t[e]])return new Error(\"variable at path\'\"+t.slice(0,e).join(\".\")+\"\' is not object\'\");r=r[t[e]]}return{parent:r,name:t[t.length-1]}}_isNative=function(){var r=Object.prototype.toString,a=Function.prototype.toString,s=\/^\\[object .+?Constructor\\]$\/,n=RegExp(\"^\"+String(r).replace(\/[.*+?^${}()|[\\]\\\/\\\\]\/g,\"\\\\$&\").replace(\/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])\/g,\"$1.*?\")+\"$\");return function(e){var t=typeof e;return\"function\"==t?n.test(a.call(e)):e&&\"object\"==t&&s.test(r.call(e))||!1}}()}<\/script><script>class JSBot{constructor(e,t,i){this.window=e,this.document=e.document,this.active=!1,this.interval=i,this.target=null,this.key=t,this.bubbles=!0,this.repeats=!1,this._startInterval=(t,e)=>{if(\"Click\"!==t)if(\"object\"!=typeof t||\"click\"!=t.code){let s={altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1};if(\"string\"==typeof t){var i={Space:\" \"},r={Enter:13,Backspace:8,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};let e=t=void 0!==i[t]?i[t]:t;1===t.length&&(t.match(\/^\\w$\/)?e=\"Key\"+t.toUpperCase():t.match(\/^\\d$\/)&&(e=\"Digit\"+t)),s.keyCode=r[t]||t.charCodeAt(0),s.code=e,s.key=t}else s=Object.assign(s,t);this.id=setInterval(()=>{let i=[\"keydown\",\"keyup\",\"keypress\"];this.target instanceof HTMLInputElement&&i.push(\"input\");for(let t=0;t<i.length;t++){let e=new Event(i[t],{bubbles:this.bubbles,repeats:this.repeats});Object.defineProperties(e,{keyCode:{get:()=>s.keyCode},code:{get:()=>s.code},which:{get:()=>s.keyCode},key:{get:()=>s.key},target:{get:()=>this.target},currentTarget:{get:()=>this.target},altKey:{get:()=>s.altKey},ctrlKey:{get:()=>s.ctrlKey},metaKey:{get:()=>s.metaKey},shiftKey:{get:()=>s.shiftKey}}),e.getModifierState=e=>{switch(e){case\"Alt\":return s.altKey;case\"Ctrl\":return s.ctrlKey;case\"Shift\":return s.shiftKey;case\"Meta\":return s.metaKey}},this.target.dispatchEvent(e)}},e)}else this.id=setInterval(()=>{let e=new Event(\"click\",{bubbles:!0});Object.defineProperties(e,{target:{get:()=>this.target},currentTarget:{get:()=>this.target},clientX:{get:()=>t.x},clientY:{get:()=>t.y},altKey:{get:()=>!1},ctrlKey:{get:()=>!1},metaKey:{get:()=>!1},shiftKey:{get:()=>!1}}),e.getModifierState=()=>!1,this.target.dispatchEvent(e)},e);else this.id=setInterval(()=>this.target.click(),e)}}setElement(e){if(e instanceof HTMLElement)this.target=e;else if(e instanceof Function)Object.defineProperty(this,\"target\",{get:()=>e(),set:e=>{Object.defineProperty(this,\"target\",{value:e})}});else{if(\"string\"!=typeof e)throw new Error(\"invalid element\");Object.defineProperty(this,\"target\",{get:()=>this.document.querySelector(e),set:e=>{Object.defineProperty(this,\"target\",{value:e})}})}}selectElement(){let i,s;var e=new Promise(function(e,t){i=e,s=t});let r=document.createElement(\"div\"),t=(r.style.position=\"absolute\",r.style.zIndex=\"99999999999\",r.style.pointerEvents=\"none\",r.style.backgroundColor=\"rgba(255, 0, 0, .3)\",r.style.transition=\"all .12s ease-in\",this.document.documentElement.appendChild(r),e=>{r.remove(),this.target=e.target,this.document.removeEventListener(\"click\",t),this.document.removeEventListener(\"mouseover\",n),this.document.removeEventListener(\"scroll\",o),i(e)}),n=e=>{e.stopPropagation();var t=e.target.getBoundingClientRect();this.lastPos=[e.clientX,e.clientY],r.style.left=t.left+this.window.scrollX+\"px\",r.style.top=t.top+this.window.scrollY+\"px\",r.style.width=t.width+\"px\",r.style.height=t.height+\"px\"},o=e=>{if(this.lastPos){let i=!1;i||(window.requestAnimationFrame(()=>{let e=this.document.elementFromPoint(this.lastPos[0],this.lastPos[1]);var t=e.getBoundingClientRect();r.style.left=t.left+this.window.scrollX+\"px\",r.style.top=t.top+this.window.scrollY+\"px\",r.style.width=t.width+\"px\",r.style.height=t.height+\"px\",i=!1}),i=!0)}};try{this.document.addEventListener(\"click\",t),this.document.addEventListener(\"scroll\",o);let e=this.document.querySelector(\"body\");e.addEventListener(\"mouseover\",n)}catch(e){this.document.removeEventListener(\"click\",t),this.document.removeEventListener(\"mouseover\",n),this.document.removeEventListener(\"scroll\",o),s(e)}return e}start(){if(!this.target)throw new Error(\"no target element set\");this._startInterval(this.key,this.interval),this.active=!0}stop(){this.active=!1,clearTimeout(this.id)}}<\/script><script>class Speeder{constructor(t){this.original={timeout:setTimeout,interval:setInterval,animationFrame:requestAnimationFrame};let{timeout:r,interval:a,animationFrame:e}=this.original,s=performance.now(),i=function*(){for(;;){let n=yield null;t.setTimeout=function(t,i,...e){return r(t,i\/n,...e)},t.setInterval=function(t,i,...e){return a(t,i\/n,...e)},t.requestAnimationFrame=function(i){return e(t=>{t-=s;s+=t*n,i(s)})}}}();i.next(),this.ctx=i}enable(){this.ctx.next(this.speed)}disable(){win.setTimeout=this.original.timeout,win.setInterval=this.original.interval,win.requestAnimationFrame=this.original.animationFrame}setSpeed(t){this.speed=t,this.ctx.next(t)}}class RNG{constructor(t){let a=Math.random,s=(this.original=Math.random,this.Math=t.Math,this.overrides={},this.overrides);this.set=function(n,r=function(){}){if(\"[object Array]\"===Object.prototype.toString.call(n)){let e=-1;this.Math.random=function(){var t=getCallstack();if(s[t])return i=s[t],r(t,i),i;e++,void 0===n[e]&&(e=0);var i=\"*\"===n[e]?a():n[e];return r(t,i),i}}else this.Math.random=function(){if(s[stack])return t=s[stack],r(stack,t),t;var t=\"*\"===n?a():n;r(getCallstack(),t)}}}reset(){this.Math.random=this.original}}<\/script><script>function mainPageInit(){let t=new Speeder(parent),a=new RNG(parent),n=(window.rng=a,{slider:document.getElementById(\"speeder-slider\"),textbox:document.getElementById(\"speeder-textbox\"),switch:document.getElementById(\"speeder-switch\")}),l={input:document.getElementById(\"rng-input\"),switch:document.getElementById(\"rng-switch\")},c={slider:document.getElementById(\"opacity-slider\"),textbox:document.getElementById(\"opacity-textbox\")};document.getElementById(\"autoclick-switch\"),document.getElementById(\"autoclick-action\"),document.getElementById(\"autoclick-key\"),document.getElementById(\"autoclick-interval\"),document.getElementById(\"autoclick-element-select\"),document.getElementById(\"autoclick-key-bubbles\");let i=document.getElementById(\"random-callstack-disp\");function r(e,t){let n=document.createElement(\"div\");n.innerHTML=`<pre>generated ${t}\r\n${e}<\/pre>`,n.dataset.stack=e,n.addEventListener(\"click\",function(n){let l=n.currentTarget.dataset.stack;n=prompt(`value (current: ${a.overrides[l]})`);if(null!==n)if(isNaN(Number(n)))alert(\"Invalid input\");else{var e=a.overrides[l];a.overrides[l]=n;let t=document.getElementById(\"random-override-disp\");var c=l.replaceAll(\/\\n? +at\/g,\"@\");if(void 0===e){let e=document.createElement(\"div\");e.id=\"stack-\"+c,e.dataset.stack=l,e.innerHTML=`stack: <pre style=\'margin-bottom:0;padding-bottom:0\'>${c}<\/pre><br>value: <span class=\"override-value\">${n}<\/span>`,e.addEventListener(\"click\",function(e){var t=e.currentTarget.dataset.stack,n=prompt(`value (current: ${a.overrides[t]})`);null!==n&&(a.overrides[t]=n,e.currentTarget.querySelector(\"span\").innerText=n)}),t.appendChild(e)}else t.querySelector(`[id=\"stack-${c}\"] > span`).innerText=n}}),i.appendChild(n)}function e(e){e=parseInt(e.currentTarget.value);c.textbox.value=e,c.slider.value=e,document.getElementById(\"jsce-container\").style.backgroundColor=`rgb(0,0,0,${e\/100})`}c.slider.addEventListener(\"input\",e),c.textbox.addEventListener(\"input\",e),n.slider.addEventListener(\"input\",e=>{n.textbox.value=parseRange(e.currentTarget.value),checkSpeedRange(n)&&t.setSpeed(Number(n.textbox.value))}),n.textbox.addEventListener(\"input\",e=>{n.slider.value=e.currentTarget.value,checkSpeedRange(n)&&t.setSpeed(Number(n.textbox.value))}),n.switch.addEventListener(\"input\",e=>{e=!e.currentTarget.checked;n.textbox.disabled=e,(n.slider.disabled=e)?t.disable():t.enable()}),l.switch.addEventListener(\"input\",e=>{e=e.currentTarget.checked;l.input.disabled=!e,e?a.set(parserngData(l.input),r):a.reset()}),l.input.addEventListener(\"input\",e=>{a.set(parserngData(e.currentTarget),r)});let o=!1,d=(document.getElementById(\"floating-btn-switch\").addEventListener(\"input\",e=>{o||(o=!0,init_floating_btn())}),document.getElementById(\"freeze-duration\"));document.getElementById(\"freeze-start\").addEventListener(\"click\",e=>{e.currentTarget.innerText=\"Frozen\",e.currentTarget.style.backgroundColor=\"rgb(45, 45, 45)\",window.parent.postMessage({operation:\"jsce_freeze\",time:Number(d.value)},\"*\")})}function init_floating_btn(){const l=Math.min(window.parent.document.documentElement.clientWidth||0,window.parent.innerWidth||0),c=Math.min(window.parent.document.documentElement.clientHeight||0,window.parent.innerHeight||0),a=20,n=document.getElementById(\"floating-btn-freeze\"),u=document.getElementById(\"freeze-duration\");let i=document.createElement(\"div\"),t=(i.style.position=\"fixed\",i.style.zIndex=\"99999999999\",i.style.opacity=\".5\",i.style.backgroundColor=\"#000\",i.style.left=\"10px\",i.style.top=\"10px\",i.style.width=\"20px\",i.style.height=\"20px\",i.style.fontSize=\"15px\",i.style.borderRadius=\"10px\",i.style.userSelect=\"none\",i.id=\"jsce-floating-btn\",i.style.display=\"none\",!(i.innerText=\"\uD83D\uDD27\")),r=10,o=10,d,s;function y(n){t=!0;window.requestAnimationFrame(()=>{var e=n.clientX-r,t=n.clientY-o;i.style.left=(e<0?0:e+a>l?l-a:e)+\"px\",i.style.top=(t<0?0:t+a>c?c-a:t)+\"px\"})}function m(e){if(console.log(e.button,n.checked),2!=e.button||!n.checked)if(i.style.opacity=\".5\",i.style.pointerEvents=\"\",i.style.transform=\"\",window.parent.document.removeEventListener(\"mouseup\",m),window.parent.document.removeEventListener(\"mousemove\",y),t&&3<=Math.abs(e.clientX-d)&&3<=Math.abs(e.clientY-s))t=!1;else{i.style.left=d-r+\"px\",i.style.top=s-o+\"px\";let e=window.parent.document.getElementById(\"jsce-container\");e.style.display=\"block\",i.style.display=\"none\",e.children[0].focus()}}i.addEventListener(\"contextmenu\",e=>{const t=window.parent.document.getElementById(\"jsce-floating-btn\");e.preventDefault(),t.innerText=\"\u2744\uFE0F\",i.style.transform=\"scale(1.2)\",i.style.opacity=\"1\",i.style.pointerEvents=\"none\",window.parent.postMessage({operation:\"jsce_freeze\",time:Number(u.value),floatingBtn:!0},\"*\"),setTimeout(()=>{i.style.opacity=\".5\",i.style.pointerEvents=\"\",t.innerText=\"\uD83D\uDD27\",i.style.transform=\"\"},50)}),i.addEventListener(\"mousedown\",e=>{var t;2==e.button&&n.checked||(i.style.transform=\"scale(1.2)\",i.style.opacity=\"1\",i.style.pointerEvents=\"none\",t=e.currentTarget.getBoundingClientRect(),r=e.clientX-t.left,o=e.clientY-t.top,d=e.clientX,s=e.clientY,window.parent.document.addEventListener(\"mousemove\",y),window.parent.document.addEventListener(\"mouseup\",m))}),window.parent.document.documentElement.appendChild(i)}function*IDGenerator(){let e=0;for(;;)yield(++e).toString(36)}function createAutoclicker(){let e=document.getElementById(\"autoclick-container\"),c=new JSBot(window.parent,\"Click\",100),t=document.getElementById(\"autoclicker-template\"),n=t.content.cloneNode(!0).children[0],a=(e.appendChild(n),{switch:n.querySelector(\"#autoclick-switch\"),action:n.querySelector(\"#autoclick-action\"),key:n.querySelector(\"#autoclick-key\"),interval:n.querySelector(\"#autoclick-interval\"),elementSelect:n.querySelector(\"#autoclick-element-select\"),bubbles:n.querySelector(\"#autoclick-key-bubbles\"),clientX:n.querySelector(\"#autoclick-client-x\"),clientY:n.querySelector(\"#autoclick-client-y\")});a.switch.addEventListener(\"input\",t=>{if(t.currentTarget.checked){c.interval=Number(c.interval.value);let e;try{e=JSON.parse(a.key.dataset.value)}catch(t){e=a.key.dataset.value}var n,l;\"key\"==a.action.dataset.value?c.key=e:\"click\"==a.action.dataset.value&&\"CANVAS\"==c.target?.tagName?(n=Number(a.clientX.value),l=Number(a.clientY.value),c.key={x:n,y:l,code:\"click\"}):c.key=\"Click\",c.bubbles=a.bubbles.checked,c.start()}else c.stop()}),a.elementSelect.addEventListener(\"click\",e=>{window.parent.jsce_toggle(),c.selectElement().then(e=>{let t=e.target;window.parent.jsce_toggle(),a.elementSelect.value=\"\"+t.tagName.toLowerCase()+(t.id?\"#\"+t.id:\"\")+(\"\"!=t.classList.value?(\".\"+[...t.classList].join(\".\")).replace(\".jsce-hover\",\"\"):\"\"),n.querySelector(\"#autoclick-click-actions\").style.display=\"click\"==a.action.dataset.value&&\"CANVAS\"==c.target.tagName?\"inline-block\":\"none\",\"CANVAS\"==t.tagName&&(a.clientX.value=e.clientX,a.clientY.value=e.clientY)})}),a.key.addEventListener(\"keydown\",e=>{let t=e.currentTarget;t.dataset.value=JSON.stringify({keyCode:e.keyCode,code:e.code,key:e.key,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey}),t.value=(e.altKey?\"Alt+\":\"\")+(e.ctrlKey?\"Ctrl+\":\"\")+(e.metaKey?\"Meta+\":\"\")+(e.shiftKey?\"Shift+\":\"\")+e.code,e.preventDefault()}),n.querySelector(\"#autoclick-action .dropdown-content\").addEventListener(\"click\",e=>{e=e.currentTarget.parentElement.dataset.value;n.querySelector(\"#autoclick-key-actions\").style.display=\"key\"==e?\"inline-block\":\"none\",n.querySelector(\"#autoclick-click-actions\").style.display=\"click\"==e&&\"CANVAS\"==c.target?.tagName?\"inline-block\":\"none\"}),n.querySelector(\"#close_instance\").addEventListener(\"click\",e=>{c.active&&c.stop(),e.currentTarget.parentElement.remove(),c=void 0})}<\/script><script>function searchPageInit(){let t=document.getElementById(\"all-types\"),a=document.querySelectorAll(\".type-option\"),n=document.getElementById(\"search-operation\"),r=document.getElementById(\"search-op-btn\"),e=document.getElementById(\"search-value\"),o=document.getElementById(\"search-location\"),l=(t.addEventListener(\"input\",e=>{for(let e=0;e<a.length;e++)a[e].disabled=t.checked}),e.addEventListener(\"input\",e=>{var t;\"auto\"==n.dataset.value&&\"\"!=e.currentTarget.value?(t=autoOperation(e.currentTarget.value))?(e.currentTarget.classList.remove(\"error\"),r.innerText=`auto (${t.operation})`):e.currentTarget.classList.add(\"error\"):e.currentTarget.classList.remove(\"error\")}),{global:0,localStorage:1,sessionStorage:2}),s=[\"global\",\"localStorage\",\"sessionStorage\"];e.addEventListener(\"keydown\",e=>{switch(e.code){case\"Enter\":newSearch();break;case\"ArrowUp\":{let e=l[o.dataset.value];e=e-1<0?s.length-1:e-1,e=s[e],o.dataset.value=e,o.children[0].innerText=e}break;case\"ArrowDown\":{let e=l[o.dataset.value];e=e+1>s.length-1?0:e+1,e=s[e],o.dataset.value=e,o.children[0].innerText=e}}})}function autoOperation(n){if(n){let e=(n=n.trim()).replace(\"==\",\"=\").match(\/^((?:=|>|<)=?)(.+)\/),t=\"\",a=\"\";if(e){if(\"=\"===e[1]|\"==\"===e[1]&&(e[1]+=\"=\"),\"=\"!=e[1][0]){if(a=Number(e[2]),isNaN(a))return}else a=e[2];t=e[1]}else if(e=n.match(\/^(\\?|\\\/|\\+\\-)(.+)\/))t=e[1],a=e[2];else{if(!(e=n.match(\/^(\\d+(?:\\.\\d+)?)(~~?)(\\d+(?:\\.\\d+)?)\/)))return;a=[Number(e[1]),Number(e[3])],t=e[2]}return{value:a,operation:t}}}function getTypes(){var t=document.getElementById(\"all-types\"),a=document.querySelectorAll(\".type-option\");let n={};for(let e=0;e<a.length;e++)(t.checked||a[e].checked)&&(n[a[e].dataset.value]=!0);return n}function parseStorage(e){let n={};for(let t=0,a=Object.keys(e);t<a.length;t++){var r=e[a[t]];try{n[a[t]]=JSON.parse(r)}catch(e){n[a[t]]=r}}return n}function autoTypeCast(e){var t={true:!0,false:!1};const a=[\"\'\",\'\"\'];return e=e.trim(),isNaN(Number(e))?void 0!==t[e]?e=t[e]:a.includes(e[0])&&a.includes(e[e.length-1])&&(e=e.slice(1,-1)):e=Number(e),e}function formatPath(e){return e.replaceAll(\/.(\\d+)(?!\\w)\/g,\"[$1]\")}function displaySearchRes(a){let n=document.getElementById(\"search-res\");if(n.innerHTML=\"\",120<a.length||0===a.length){let e=document.createElement(\"div\");return e.style.textAlign=\"center\",e.style.margin=\"0 5px\",e.innerText=a.length+\" results\",void n.appendChild(e)}for(let t=0;t<a.length;t++){var r=a[t];let l=document.createElement(\"div\"),e=(l.classList.add(\"search-box\"),l.addEventListener(\"click\",function(e){if(\"true\"!==l.dataset.active){s.classList.remove(\"search-val-string\");let n=document.createElement(\"input\"),r=c.innerText,o=(l.dataset.active=\"true\",n.value=c.innerText,!1);n.addEventListener(\"blur\",e=>{o||(c=document.createElement(\"span\"),s.innerText=\"\",c.innerText=r,s.appendChild(c),s.dataset.type=l.dataset.type,l.dataset.active=null,\"string\"===l.dataset.type&&s.classList.add(\"search-val-string\"))}),n.addEventListener(\"keydown\",t=>{if(\"Enter\"==t.code){var a=n.value;if(\"\"!=a&&(o=!0,(l.dataset.active=null)!==a)){a=autoTypeCast(a);try{objectIndex.set(t.currentTarget.parentElement.parentElement.dataset.path,a),\"string\"==typeof a&&s.classList.add(\"search-val-string\");let e=t.currentTarget.parentElement;(c=document.createElement(\"span\")).innerText=a,e.innerHTML=\"\",e.appendChild(c),l.dataset.type=typeof a,s.dataset.type=typeof a,r=a,objectIndex.search[[...Array.from(l.parentElement.children)].indexOf(l)][1]=a}catch(t){throw t}}}}),n.addEventListener(\"input\",e=>{var t=n.value.trim();\"\"!=t?(t=autoTypeCast(t),s.dataset.type=typeof t):s.dataset.type=\"undefined\"}),s.innerHTML=\"\",s.appendChild(n);r;var t=autoTypeCast(r);s.dataset.type=typeof t,n.focus()}}),document.createElement(\"div\")),s=(l.dataset.path=r[0],l.dataset.type=typeof r[1],e.innerText=formatPath(r[0]),document.createElement(\"div\")),c=(s.dataset.type=typeof r[1],\"string\"==typeof r[1]?s.classList.add(\"search-val-string\"):s.classList.remove(\"search-val-string\"),document.createElement(\"span\"));c.innerText=r[1],s.appendChild(c),l.appendChild(e),l.appendChild(s),n.appendChild(l)}}let objectIndex;function newSearch(){try{var o=document.getElementById(\"search-location\").dataset.value;let e=document.getElementById(\"search-value\").value;var l=document.getElementById(\"search-value-2\").value;let t=document.getElementById(\"search-operation\").dataset.value;var s,c=getTypes();let a,n,r;if(0==e.length)return;switch(o){case\"global\":a=window.parent;break;case\"localStorage\":a=parseStorage(window.parent.localStorage),n=function(){return parseStorage(window.parent.localStorage)},r=function(a){for(let e=0,t=Object.keys(a);e<t.length;e++)window.parent.localStorage.setItem(t[e],JSON.stringify(a[t[e]]))};break;case\"sessionStorage\":a=parseStorage(window.parent.sessionStorage),n=function(){return parseStorage(window.parent.sessionStorage)},r=function(a){for(let e=0,t=Object.keys(a);e<t.length;e++)window.parent.sessionStorage.setItem(t[e],JSON.stringify(a[t[e]]))}}switch(\"sessionStorage\"!==((objectIndex=new IndexedObj(a)).location=o)&&\"localStorage\"!==o||objectIndex.onUpdate(n,r),t){case\"~\":case\"+-\":e=[Number(e),Number(l)]}\"auto\"==t&&(s=autoOperation(e),e=s.value,t=s.operation),objectIndex.newSearch({value:e,operation:t,type:c}),displaySearchRes(objectIndex.search)}catch(e){let t=document.getElementById(\"search-res\"),a=(t.innerHTML=\"\",document.createElement(\"div\"));return a.style.textAlign=\"center\",a.style.margin=\"0 5px\",a.innerText=e+`\r\n`+e.stack,void t.appendChild(a)}}function refine(){var e=document.getElementById(\"search-value\").value,t=document.getElementById(\"search-operation\").dataset.value,a=getTypes();objectIndex.refine({value:e,operation:t,type:a}),displaySearchRes(objectIndex.search)}function change_search_op(e){if(e.target.matches(\"button\"))switch(e.target.dataset.value){case\"~\":case\"+-\":document.getElementById(\"search-value-2-cont\").style.display=\"inline-block\",document.getElementById(\"search-value\").style.width=\"20%\",document.getElementById(\"search-op-disp\").innerText=e.target.dataset.value;break;default:document.getElementById(\"search-value-2-cont\").style.display=\"none\",document.getElementById(\"search-value\").style.width=\"40%\"}}function saveAndReload(){let e=window.parent,t=(objectIndex.update(\"read\"),e.sessionStorage.setItem(\"jsce-data\",JSON.stringify({search:objectIndex.search,location:objectIndex.location,openOnReload:document.getElementById(\"open-on-reload\").checked})),new URL(e.location.href));document.getElementById(\"open-on-reload\").checked,t.searchParams.set(\"jsce\",\"2\"),e.location.replace(t)}<\/script><script>function parserngData(e){let t=e.value;t=t.split(\",\");for(let e=0;e<t.length;e++){var n=t[e].trim();t[e]=\"*\"!==n?Number(n):n}return t.includes(NaN)?e.classList.add(\"error\"):e.classList.remove(\"error\"),t}function checkSpeedRange(e){Number(e.textbox.value)<0?e.textbox.classList.add(\"error\"):e.textbox.classList.remove(\"error\")}function parseRange(e){return Math.pow(2,parseInt(e))}let currentFocused=null,pages;function openPage(n){for(let e=0,t=Object.keys(pages);e<t.length;e++)t[e]===n?pages[t[e]].style.display=\"block\":pages[t[e]].style.display=\"none\"}function open_dropdown(e){(currentFocused=e).classList.toggle(\"show\")}function radio_set(e){let t=e.parentElement.parentElement;t.dataset.value=e.dataset.value,t.querySelector(\"button\").innerText=e.innerText}function clear_rnd_calls(e){e.parentElement.children[1].innerHTML=\"-- start --\"}window.onload=function(){pages={main:document.getElementById(\"main-page\"),search:document.getElementById(\"search-page\"),storage:document.getElementById(\"storage-page\"),console:document.getElementById(\"console-page\")},openPage(\"main\"),document.getElementById(\"page\").addEventListener(\"click\",function(e){e.target.dataset.value&&openPage(e.target.dataset.value.toLowerCase())}),document.addEventListener(\"keydown\",function(e){if(window.parent!=window){if(e.getModifierState(\"Alt\")&&e.getModifierState(\"Control\")&&e.getModifierState(\"Shift\")&&\"KeyC\"===e.code){var t=window.parent.document.getElementById(\"jsce-container\");parent.jsce_toggle();let e=document.getElementById(\"jsce-floating-btn\")||window.parent.document.getElementById(\"jsce-floating-btn\");console.log(e),e&&(console.log(t.style.display),t&&\"none\"==t.style.display?e.style.display=\"none\":e.style.display=document.getElementById(\"floating-btn-switch\").checked?\"block\":\"none\")}if(\"Escape\"===e.code){let e=window.parent.document.getElementById(\"jsce-floating-btn\");e&&(e.style.display=document.getElementById(\"floating-btn-switch\").checked?\"block\":\"none\"),parent.jsce_toggle()}}}),document.addEventListener(\"click\",function(e){if(currentFocused)return e.target!==currentFocused&&currentFocused.classList.remove(\"show\"),!0}),mainPageInit(),searchPageInit();let t=new URL(window.parent.location.href);if(null!=t.searchParams.get(\"jsce\")){t.searchParams.delete(\"jsce\"),window.parent.history.pushState({path:t.toString()},\"\",t.toString());var n=JSON.parse(window.parent.sessionStorage.getItem(\"jsce-data\"));displaySearchRes(n.search);let e=document.getElementById(\"search-location\");e.dataset.value=n.location,e.innerText=n.location,window.parent.sessionStorage.removeItem(\"jsce-data\"),\"2\"==t.searchParams.get(\"jsce\")&&(document.getElementById(\"open-on-reload\").checked=!0),openPage(\"search\")}}<\/script><div class=\"main dark-scrollbar\"><div class=\"segmented-control\"id=\"page\"><input type=\"radio\"name=\"sc-1-1\"id=\"sc-1-1-1\"checked=\"checked\"> <input type=\"radio\"name=\"sc-1-1\"id=\"sc-1-1-2\"> <input type=\"radio\"name=\"sc-1-1\"id=\"sc-1-1-3\"> <input type=\"radio\"name=\"sc-1-1\"id=\"sc-1-1-4\"> <label for=\"sc-1-1-1\"data-value=\"Main\">Main<\/label> <label for=\"sc-1-1-2\"data-value=\"Search\">Search<\/label> <label for=\"sc-1-1-3\"data-value=\"Storage\">Storage<\/label> <label for=\"sc-1-1-4\"data-value=\"Console\">Console<\/label><\/div><div id=\"main-page\"class=\"page\"><div class=\"box\"><div class=\"box-header\">Utility<\/div><div style=\"padding-left:.5em\">Background Opacity<\/div><input type=\"range\"min=\"1\"max=\"100\"value=\"100\"class=\"slider\"id=\"opacity-slider\"> <input type=\"number\"value=\"100\"id=\"opacity-textbox\"autocomplete=\"off\"><div style=\"padding-left:.5em;margin-top:.5em\">Floating Button <label class=\"switch\"><input type=\"checkbox\"id=\"floating-btn-switch\"> <span class=\"switch-slider round\"><\/span><\/label><\/div><div style=\"padding-left:.5em;margin-top:.5em\">Open on Reload <label class=\"switch\"><input type=\"checkbox\"id=\"open-on-reload\"> <span class=\"switch-slider round\"><\/span><\/label><\/div><div style=\"padding-left:.5em;margin-top:.5em\">Freeze javascript <input id=\"freeze-duration\"style=\"margin-right:.3em\"type=\"number\"autocomplete=\"off\"> <button id=\"freeze-start\">Freeze<\/button><br><\/div><div style=\"padding-left:.5em;margin-top:.5em\">Right click floating button to freeze <label class=\"switch\"><input type=\"checkbox\"id=\"floating-btn-freeze\"> <span class=\"switch-slider round\"><\/span><\/label><\/div><\/div><div class=\"box\"><div class=\"box-header\">Speeder <label class=\"switch\"><input type=\"checkbox\"id=\"speeder-switch\"> <span class=\"switch-slider round\"><\/span><\/label><\/div><input disabled=\"disabled\"type=\"range\"min=\"-5\"max=\"10\"value=\"0\"class=\"slider\"id=\"speeder-slider\"> <input disabled=\"disabled\"type=\"number\"value=\"1\"id=\"speeder-textbox\"autocomplete=\"off\"><\/div><div class=\"box\"><div class=\"box-header\">RNG <label class=\"switch\"><input type=\"checkbox\"id=\"rng-switch\"> <span class=\"switch-slider round\"><\/span><\/label><\/div><span class=\"quote\">Overwrite random function use * for default value and comma to seperate a list of values to cycle over<\/span> <input disabled=\"disabled\"id=\"rng-input\"value=\"*\"><div class=\"foldable\"><button onclick=\'this.classList.toggle(\"show\")\'>call history<\/button><div id=\"random-callstack-controls\"><button onclick=\"clear_rnd_calls(this)\">Clear<\/button><div id=\"random-callstack-disp\"class=\"dark-scrollbar\">-- start --<\/div><\/div><\/div><div class=\"foldable\"><button onclick=\'this.classList.toggle(\"show\")\'>stack overrides<\/button><div id=\"random-override-disp\"><\/div><\/div><\/div><div class=\"box\"><div class=\"box-header\">Autoclicker <button style=\"transform:translateY(-15%)\"onclick=\"createAutoclicker()\">+<\/button><\/div><div id=\"autoclick-container\"><\/div><\/div><\/div><div id=\"search-page\"class=\"page\"style=\"display:none\"><div class=\"box\"><input id=\"search-value\"style=\"width:40%\"autocomplete=\"off\"> <span id=\"search-value-2-cont\"style=\"display:none\">&nbsp;<span id=\"search-op-disp\"><\/span>&nbsp; <input type=\"number\"id=\"search-value-2\"style=\"width:80%\"autocomplete=\"off\"><\/span><div class=\"field\">Location<div class=\"dropdown\"data-value=\"global\"id=\"search-location\"><button onclick=\"open_dropdown(this)\"class=\"dropbtn\">global<\/button><div class=\"dropdown-content\"><button onclick=\"radio_set(this)\"data-value=\"global\">global <button onclick=\"radio_set(this)\"data-value=\"localStorage\">localStorage <button onclick=\"radio_set(this)\"data-value=\"sessionStorage\">sessionStorage<\/button><\/button><\/button><\/div><\/div><\/div><div class=\"field\">Operation<div class=\"dropdown\"data-value=\"auto\"id=\"search-operation\"><button onclick=\"open_dropdown(this)\"class=\"dropbtn\"id=\"search-op-btn\">Auto (none)<\/button><div class=\"dropdown-content\"onclick=\"change_search_op(event)\"><button onclick=\"radio_set(this)\"data-value=\"auto\">Auto (none)<\/button><div><\/div><button onclick=\"radio_set(this)\"data-value=\"===\">strict equals (===)<\/button> <button onclick=\"radio_set(this)\"data-value=\"==\"class=\"divider\">equals (==)<\/button><div><\/div><button onclick=\"radio_set(this)\"data-value=\"~\"class=\"divider\">range (~)<\/button> <button onclick=\"radio_set(this)\"data-value=\"+-\"class=\"divider\">within variation (+-)<\/button><div><\/div><button onclick=\"radio_set(this)\"data-value=\">=\">greater or equal (>=)<\/button> <button onclick=\"radio_set(this)\"data-value=\">\">greater (>)<\/button><div><\/div><button onclick=\"radio_set(this)\"data-value=\"&lt;=\">less or equal (&lt;=)<\/button> <button onclick=\"radio_set(this)\"data-value=\"&lt;\">less (&lt;)<\/button><div><\/div><button onclick=\"radio_set(this)\"data-value=\"?\">includes string (?)<\/button> <button onclick=\"radio_set(this)\"data-value=\"\/\">match regex (\/)<\/button><\/div><\/div><\/div><div class=\"foldable\"><button onclick=\'this.classList.toggle(\"show\")\'>info<\/button><div>Auto mode will automatically detect the operation<br>The operator will always be first except for range==1, >3 etc<br>however for a range like &lt;= x &lt;= b the expression will be a~b<br>regex match and string includes will have to be manually selected however<br>note that regex match and string includes may have performance issues<\/div><\/div><div class=\"foldable\"id=\"type-select-cont\"><button onclick=\'this.classList.toggle(\"show\")\'>type<\/button><div id=\"type-select\"><div class=\"field\"><input id=\"all-types\"type=\"checkbox\"checked=\"checked\"> All<\/div><br><div class=\"field\"><input disabled=\"disabled\"class=\"type-option\"data-value=\"boolean\"type=\"checkbox\"> Boolean<\/div><div class=\"field\"><input disabled=\"disabled\"class=\"type-option\"data-value=\"number\"type=\"checkbox\"> Number<\/div><div class=\"field\"><input disabled=\"disabled\"class=\"type-option\"data-value=\"string\"type=\"checkbox\"> String<\/div><div class=\"field\"><input disabled=\"disabled\"class=\"type-option\"data-value=\"function\"type=\"checkbox\"> Function<\/div><\/div><\/div><button onclick=\"newSearch()\">New Search<\/button> <button onclick=\"refine()\">Refine<\/button> <button onclick=\"saveAndReload()\">Save & Reload<\/button><\/div><div class=\"box dark-scrollbar\"id=\"search-res\"><div style=\"text-align:center;margin:0 5px\">No search results yet, press new search to start a new search<\/div><\/div><\/div><div id=\"storage-page\"class=\"page\"style=\"display:none\"><\/div><div id=\"console-page\"class=\"page\"style=\"display:none\"><\/div><\/div><\/div><template id=\"autoclicker-template\"><div class=\"list-item\"><button id=\"close_instance\">\u2715<\/button> <label class=\"switch\"><input type=\"checkbox\"id=\"autoclick-switch\"> <span class=\"switch-slider round\"><\/span><\/label><div class=\"field\">Target <input id=\"autoclick-element-select\"style=\"cursor:pointer\"autocomplete=\"off\"readonly=\"readonly\"><\/div><div class=\"field\">Action<div class=\"dropdown\"data-value=\"click\"id=\"autoclick-action\"><button onclick=\"open_dropdown(this)\"class=\"dropbtn\">Click<\/button><div class=\"dropdown-content\"><button onclick=\"radio_set(this)\"data-value=\"click\">Click<\/button> <button onclick=\"radio_set(this)\"data-value=\"key\">Press Key<\/button><\/div><\/div><span id=\"autoclick-key-actions\"style=\"display:none\"><input placeholder=\"key\"style=\"margin-left:3px\"autocomplete=\"off\"spellcheck=\"false\"id=\"autoclick-key\"> <input type=\"checkbox\"id=\"autoclick-key-repeat\"checked=\"checked\"> Repeats <input type=\"checkbox\"id=\"autoclick-key-bubbles\"checked=\"checked\"> Bubbles <\/span><span id=\"autoclick-click-actions\"style=\"display:none\"><input type=\"number\"placeholder=\"X\"style=\"margin-left:3px\"id=\"autoclick-client-x\"> <input type=\"number\"placeholder=\"Y\"style=\"margin-left:3px\"id=\"autoclick-client-y\"><\/span><\/div><div class=\"field\">Interval <input type=\"number\"id=\"autoclick-interval\"min=\"0\"value=\"100\"><\/div><\/div><\/template>";
        let el = document.createElement('div');
        el.setAttribute('id', 'jsce-container');
        el.style.display = 'none';
        el.style.border = 'none';
        el.style.width = '100%';
        el.style.height = '100%';
        el.style.position = 'fixed';
        el.style.zIndex = '99999999';
        el.style.left = '0';
        el.style.top = '0';

        let iframe = document.createElement('iframe');

        iframe.srcdoc = html;
        iframe.style.border = 'none';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.position = 'absolute';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.left = '0';
        iframe.style.top = '0';

        el.appendChild(iframe);

        document.body.appendChild(el);

        frame = iframe;
    }

    window.jsce_toggle = function() {
        let el = document.getElementById('jsce-container');

        if(el.style.display == 'none') {
            el.style.display = 'block'
            frame.focus();
        } else {
            el.style.display = 'none'
        }
    }

    function keydown(e) {
        let el = document.getElementById('jsce-container');
        if(e.getModifierState("Alt") && e.getModifierState("Control") && e.getModifierState("Shift")) {
            if(e.code === 'KeyC') {
                if(!initialised) {
                    init();
                    initialised = true;
                }
                window.jsce_toggle()
            }
        }
    }

    document.addEventListener('keydown', keydown);

    // Check if it is a jsce triggered reload
    let url = new URL(location.href);
    let state = url.searchParams.get('jsce');
    if(state != null) {
        // reload triggered by jsce
        init();
        initialised = true;

        if(state == '2') {
            window.jsce_toggle()
        }
    }

    window.addEventListener('message', e => {
        let data = e.data;
        if(data.operation != 'jsce_freeze') return;
        // let checkbox = frame.contentWindow.document.getElementById('frozen-checkbox');
        let startBtn = frame.contentWindow.document.getElementById('freeze-start');
        let floatingBtn = frame.contentWindow.document.getElementById('jsce-floating-btn');
        // freeze javascript until the checkbox is unchecked 
        let end = performance.now() + data.time;
        while(performance.now() < end) {};
        startBtn.innerText = 'Freeze';
    });
})();